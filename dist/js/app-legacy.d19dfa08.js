(function(){var e={8848:function(e,t,n){"use strict";n(6992),n(8674),n(9601),n(7727),n(1539),n(4747),n(3948),n(8309),n(4916),n(5306);var a=n(9963),s=n(6252),o={class:"container"};function i(e,t,n,a,i,r){var u=(0,s.up)("TheNavBar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(u),(0,s.Wm)(l)])}var r={key:0,class:"navbar p-2 mb-2"},u=(0,s.Uk)("Home");function l(e,t,n,a,o,i){var l=(0,s.up)("router-link");return i.token?((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("button",{onClick:t[0]||(t[0]=function(t){return e.$router.back()}),class:"btn btn-light"},"Back"),(0,s.Wm)(l,{to:{name:"PageHome"}},{default:(0,s.w5)((function(){return[u]})),_:1}),(0,s._)("button",{onClick:t[1]||(t[1]=function(){return i.logOut&&i.logOut.apply(i,arguments)}),class:"btn btn-primary"},"Log Out")])):(0,s.kq)("",!0)}var c=n(8534),d=(n(5666),{computed:{token:function(){return this.$store.state.userModule.token}},methods:{logOut:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logOut",e.token);case 2:n=t.sent,n&&e.$router.push({name:"PageLogin"});case 4:case"end":return t.stop()}}),t)})))()}},created:function(){localStorage.getItem("token")&&this.$store.dispatch("refreshTokenState",localStorage.getItem("token"))}}),m=n(3744);const p=(0,m.Z)(d,[["render",l]]);var g=p,k={components:{TheNavBar:g}};const f=(0,m.Z)(k,[["render",i]]);var b=f,v=(n(3123),{class:"row h-100 justify-content-center align-items-center mt-5 mb-5"}),T={class:"col-10 col-md-8 col-lg-6"},h={key:0,class:"alert alert-danger",role:"alert"},w=(0,s._)("h2",{class:"mb-0"},"Sign Up Failed",-1),S=[w],_=(0,s._)("h1",{class:"mb-4"},"Sign Up",-1),y={class:"form-outline mb-4"},G=(0,s._)("label",{for:"email"},"Email",-1),E={class:"form-outline mb-4"},x=(0,s._)("label",{for:"username"},"Username",-1),D={class:"form-outline mb-4"},I=(0,s._)("label",{for:"firstName"},"First Name",-1),C={class:"form-outline mb-4"},Z=(0,s._)("label",{for:"lastName"},"Last Name",-1),$={class:"form-outline mb-4"},P=(0,s._)("label",{for:"password"},"Password",-1),N={class:"form-outline mb-4"},R=(0,s._)("label",{for:"confirmPassword"},"Confirm Password",-1),W=(0,s._)("button",{class:"btn btn-primary btn-block mb-4"},"Sign Up",-1),U=(0,s.Uk)(" Login Page ");function j(e,t,n,o,i,r){var u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",T,[i.signUpFailed?((0,s.wg)(),(0,s.iD)("div",h,S)):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[6]||(t[6]=(0,a.iM)((function(){return r.signUp&&r.signUp.apply(r,arguments)}),["prevent"]))},[_,(0,s._)("div",y,[G,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.email=e}),name:"email",type:"text",class:"form-control"},null,512),[[a.nr,i.email]])]),(0,s._)("div",E,[x,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.username=e}),name:"username",type:"text",class:"form-control"},null,512),[[a.nr,i.username]])]),(0,s._)("div",D,[I,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.firstName=e}),name:"firstName",type:"text",class:"form-control"},null,512),[[a.nr,i.firstName]])]),(0,s._)("div",C,[Z,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.lastName=e}),name:"lastName",type:"text",class:"form-control"},null,512),[[a.nr,i.lastName]])]),(0,s._)("div",$,[P,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.password=e}),name:"password",type:"password",class:"form-control"},null,512),[[a.nr,i.password]])]),(0,s._)("div",N,[R,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.confirmPassword=e}),name:"confirmPassword",type:"password",class:"form-control"},null,512),[[a.nr,i.confirmPassword]])]),(0,s._)("div",null,[W,(0,s.Wm)(u,{to:{name:"PageLogin"},class:"btn btn-light btn-block mb-4"},{default:(0,s.w5)((function(){return[U]})),_:1})])],32)])])}var A={data:function(){return{email:"",username:"",firstName:"",lastName:"",password:"",confirmPassword:"",signUpFailed:!1}},methods:{signUp:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("signUp",{email:e.email,username:e.username,password:e.password,confirm_password:e.confirmPassword,first_name:e.firstName,last_name:e.lastName});case 2:n=t.sent,n?(e.signUpFailed=!1,e.$router.push({name:"PageLogin",params:{signUpSuccess:!0}})):e.signUpFailed=!0;case 4:case"end":return t.stop()}}),t)})))()}}};const M=(0,m.Z)(A,[["render",j]]);var q=M,O={class:"row h-100 justify-content-center align-items-center mt-5 mb-5"},F={class:"col-10 col-md-8 col-lg-6"},V={key:0,class:"alert alert-success",role:"alert"},L=(0,s._)("h2",{class:"mb-0"},"Sign up successful, Log in now",-1),z=[L],K={key:1,class:"alert alert-danger",role:"alert"},H=(0,s._)("h2",{class:"mb-0"},"Login Failed",-1),B=[H],Q=(0,s._)("h1",{class:"mb-4"},"Login",-1),Y={class:"form-outline mb-4"},J=(0,s._)("label",{for:"username"},"Username",-1),X={class:"form-outline mb-4"},ee=(0,s._)("label",{for:"password"},"Password",-1),te=(0,s._)("button",{type:"submit",class:"btn btn-primary btn-block mb-4"},"Login",-1),ne=(0,s.Uk)(" Sign Up ");function ae(e,t,n,o,i,r){var u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("div",F,[n.signUpSuccess?((0,s.wg)(),(0,s.iD)("div",V,z)):(0,s.kq)("",!0),i.loginFailed?((0,s.wg)(),(0,s.iD)("div",K,B)):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)((function(){return r.login&&r.login.apply(r,arguments)}),["prevent"]))},[Q,(0,s._)("div",Y,[J,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.username=e}),name:"username",type:"text",class:"form-control"},null,512),[[a.nr,i.username]])]),(0,s._)("div",X,[ee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.password=e}),name:"password",type:"password",class:"form-control"},null,512),[[a.nr,i.password]])]),(0,s._)("div",null,[te,(0,s.Wm)(u,{to:{name:"PageSignUp"},class:"btn btn-light btn-block mb-4"},{default:(0,s.w5)((function(){return[ne]})),_:1})])],32)])])}var se={props:{signUpSuccess:{type:Boolean,default:!1}},data:function(){return{username:"",password:"",loginFailed:!1}},methods:{login:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("login",{username:e.username,password:e.password});case 2:n=t.sent,n?(e.loginFailed=!1,e.$router.push({name:"PageHome"})):e.loginFailed=!0;case 4:case"end":return t.stop()}}),t)})))()}}};const oe=(0,m.Z)(se,[["render",ae]]);var ie=oe,re={class:"container list-group"},ue={key:0},le=(0,s._)("h1",{class:"text-muted"},"Goals",-1),ce={key:1};function de(e,t,n,a,o,i){var r=(0,s.up)("GoalList"),u=(0,s.up)("GoalAdd");return(0,s.wg)(),(0,s.iD)("div",re,[0!=e.activeGoals.length?((0,s.wg)(),(0,s.iD)("div",ue,[le,(0,s.Wm)(r,{goals:e.activeInProgressGoals,onSaveEditedGoal:i.saveEditedGoal},null,8,["goals","onSaveEditedGoal"]),(0,s.Wm)(r,{goals:e.activeCompletedGoals,onSaveEditedGoal:i.saveEditedGoal},null,8,["goals","onSaveEditedGoal"])])):((0,s.wg)(),(0,s.iD)("h1",ce,"No active goals were found, add new goals below")),(0,s.Wm)(u,{onAddGoal:i.addGoal},null,8,["onAddGoal"])])}var me=n(4648),pe=(n(2526),n(1817),{key:0}),ge={key:1};function ke(e,t,n,a,o,i){var r=(0,s.up)("GoalCompleted"),u=(0,s.up)("GoalInProgress"),l=(0,s.up)("GoalEditor");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.goals,(function(e){return(0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"list-group-item"},[i.editingThisGoal(e.id)?((0,s.wg)(),(0,s.iD)("div",ge,[(0,s.Wm)(l,{goal:e,onFinishEditingGoal:i.finishEditingGoal,onSaveEditedGoal:i.saveEditedGoal},null,8,["goal","onFinishEditingGoal","onSaveEditedGoal"])])):((0,s.wg)(),(0,s.iD)("div",pe,[e.completed?((0,s.wg)(),(0,s.j4)(r,{key:0,goal:e,onEditGoal:i.editGoal,onRemoveGoal:i.removeGoal,onToggleGoalCompletion:i.toggleGoalCompletion},null,8,["goal","onEditGoal","onRemoveGoal","onToggleGoalCompletion"])):((0,s.wg)(),(0,s.j4)(u,{key:1,goal:e,onEditGoal:i.editGoal,onRemoveGoal:i.removeGoal,onToggleGoalCompletion:i.toggleGoalCompletion},null,8,["goal","onEditGoal","onRemoveGoal","onToggleGoalCompletion"]))]))])})),128)}var fe={class:"form-group"},be={class:"d-flex w-100"},ve=(0,s._)("label",{for:"editName",class:"mr-auto"},"Goal Name",-1),Te={type:"submit",class:"badge badge-pill mb-1"},he={class:"form-group"},we=(0,s._)("label",{for:"editDescription"},"Goal Description",-1),Se=(0,s._)("div",null,[(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Save Goal")],-1);function _e(e,t,n,o,i,r){var u=(0,s.up)("font-awesome-icon"),l=(0,s.Q2)("focus");return(0,s.wg)(),(0,s.iD)("form",{onKeyup:t[4]||(t[4]=(0,a.D2)((function(){return r.cancelEdit&&r.cancelEdit.apply(r,arguments)}),["esc"])),onSubmit:t[5]||(t[5]=(0,a.iM)((function(){return r.saveGoal&&r.saveGoal.apply(r,arguments)}),["prevent"])),class:"p-2"},[(0,s._)("div",fe,[(0,s._)("div",be,[ve,(0,s._)("button",Te,[(0,s.Wm)(u,{icon:"floppy-disk"})]),(0,s._)("button",{onClick:t[0]||(t[0]=function(){return r.cancelEdit&&r.cancelEdit.apply(r,arguments)}),class:"badge badge-pill mb-1 text-danger"},[(0,s.Wm)(u,{icon:"rectangle-xmark"})])]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.editName=e}),type:"text",class:"form-control"},null,512),[[a.nr,i.editName],[l]])]),(0,s._)("div",he,[we,(0,s.wy)((0,s._)("textarea",{onKeyup:t[2]||(t[2]=(0,a.D2)((0,a.iM)((function(){return r.saveGoal&&r.saveGoal.apply(r,arguments)}),["prevent"]),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.editDescription=e}),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,i.editDescription]])]),Se],32)}var ye={props:{goal:{required:!0,type:Object}},data:function(){return{editName:this.goal.name,editDescription:this.goal.description}},emits:["saveEditedGoal","finishEditingGoal"],methods:{saveGoal:function(){var e=(0,me.Z)((0,me.Z)({},this.goal),{},{name:this.editName,description:this.editDescription});this.$emit("saveEditedGoal",{editedGoal:e}),this.$emit("finishEditingGoal",{})},cancelEdit:function(){this.$emit("finishEditingGoal",{})}}};const Ge=(0,m.Z)(ye,[["render",_e]]);var Ee=Ge,xe=n(3577),De={class:"list-group-item-heading"},Ie={class:"d-flex w-100 justify-content-between align-items-center"},Ce={class:"mb-1 mr-auto p-2"},Ze={class:"flex-column text-right"},$e=(0,s._)("div",{class:"align-items-end d-flex w-100 justify-content-between"},null,-1);function Pe(e,t,n,a,o,i){var r=(0,s.up)("router-link"),u=(0,s.up)("font-awesome-icon"),l=(0,s.up)("AppDate");return(0,s.wg)(),(0,s.iD)("div",De,[(0,s._)("div",Ie,[(0,s._)("del",Ce,[(0,s.Wm)(r,{to:{name:"PageGoalShow",params:{goalId:n.goal.id}},class:"text-muted"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,xe.zw)(n.goal.name),1)]})),_:1},8,["to"])]),(0,s._)("div",Ze,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editGoal(n.goal.id)}),class:"badge badge-pill"},[(0,s.Wm)(u,{icon:"user-pen"})]),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.removeGoal(n.goal)}),class:"badge badge-pill text-danger"},[(0,s.Wm)(u,{icon:"trash"})])]),(0,s._)("div",null,[(0,s._)("button",{onClick:t[2]||(t[2]=function(e){return i.toggleGoalCompletion(n.goal)}),class:"badge badge-secondary badge-pill"},"Done")]),(0,s.Wm)(l,{timestamp:n.goal.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])]),$e])}var Ne={props:{goal:{required:!0,type:Object}},emits:["editGoal","removeGoal","toggleGoalCompletion"],methods:{editGoal:function(e){this.$emit("editGoal",{goalId:e})},removeGoal:function(e){this.$emit("removeGoal",{goal:e})},toggleGoalCompletion:function(e){this.$emit("toggleGoalCompletion",{goal:e})}}};const Re=(0,m.Z)(Ne,[["render",Pe]]);var We=Re,Ue={class:"list-group-item-heading"},je={class:"d-flex w-100 justify-content-between align-items-center"},Ae={class:"mb-1 mr-auto p-2"},Me={class:"flex-column text-right"},qe={class:"align-items-end d-flex w-100 justify-content-between"},Oe={class:"p-2 my-2 list-group-item-light list-group-item-secondary"};function Fe(e,t,n,a,o,i){var r=(0,s.up)("router-link"),u=(0,s.up)("font-awesome-icon"),l=(0,s.up)("AppDate");return(0,s.wg)(),(0,s.iD)("div",Ue,[(0,s._)("div",je,[(0,s._)("h2",Ae,[(0,s.Wm)(r,{to:{name:"PageGoalShow",params:{goalId:n.goal.id}}},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,xe.zw)(n.goal.name),1)]})),_:1},8,["to"])]),(0,s._)("div",Me,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editGoal(n.goal.id)}),class:"badge badge-pill"},[(0,s.Wm)(u,{icon:"user-pen"})]),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.removeGoal(n.goal)}),class:"badge badge-pill text-danger"},[(0,s.Wm)(u,{icon:"trash"})])]),(0,s._)("button",{onClick:t[2]||(t[2]=function(e){return i.toggleGoalCompletion(n.goal)}),class:"badge badge-warning badge-pill"},"In Progress")])]),(0,s._)("div",qe,[(0,s._)("p",Oe,(0,xe.zw)(n.goal.description),1),(0,s.Wm)(l,{timestamp:n.goal.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])}var Ve={props:{goal:{required:!0,type:Object}},emits:["editGoal","removeGoal","toggleGoalCompletion"],methods:{editGoal:function(e){this.$emit("editGoal",{goalId:e})},removeGoal:function(e){this.$emit("removeGoal",{goal:e})},toggleGoalCompletion:function(e){this.$emit("toggleGoalCompletion",{goal:e})}}};const Le=(0,m.Z)(Ve,[["render",Fe]]);var ze=Le,Ke={components:{GoalEditor:Ee,GoalCompleted:We,GoalInProgress:ze},props:{goals:{required:!0,type:Array}},data:function(){return{editingGoalId:null}},emits:["saveEditedGoal"],methods:{editingThisGoal:function(e){return this.editingGoalId===e},editGoal:function(e){this.editingGoalId=e.goalId},finishEditingGoal:function(){this.editingGoalId=null},saveEditedGoal:function(e){this.$emit("saveEditedGoal",e)},toggleGoalCompletion:function(e){var t=(0,me.Z)((0,me.Z)({},e.goal),{},{completed:!e.goal.completed});this.$emit("saveEditedGoal",{editedGoal:t})},removeGoal:function(e){var t=(0,me.Z)((0,me.Z)({},e.goal),{},{removed:!0});this.$emit("saveEditedGoal",{editedGoal:t})}}};const He=(0,m.Z)(Ke,[["render",ke]]);var Be=He,Qe={class:"list-group-item"},Ye=(0,s._)("h5",{class:"text-muted"},"Add a new goal",-1),Je={class:"form-group"},Xe=(0,s._)("label",{for:"newName"},"Goal Name",-1),et={class:"form-group"},tt=(0,s._)("label",{for:"newDescription"},"Goal Description",-1),nt=(0,s._)("div",null,[(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Add Goal")],-1);function at(e,t,n,o,i,r){return(0,s.wg)(),(0,s.iD)("div",Qe,[Ye,(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)((function(){return r.saveGoal&&r.saveGoal.apply(r,arguments)}),["prevent"]))},[(0,s._)("div",Je,[Xe,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.newName=e}),type:"text",class:"form-control"},null,512),[[a.nr,i.newName]])]),(0,s._)("div",et,[tt,(0,s.wy)((0,s._)("textarea",{onKeyup:t[1]||(t[1]=(0,a.D2)((0,a.iM)((function(){return r.saveGoal&&r.saveGoal.apply(r,arguments)}),["prevent"]),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.newDescription=e}),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,i.newDescription]])]),nt],32)])}var st={data:function(){return{newName:"",newDescription:""}},methods:{saveGoal:function(){var e={name:this.newName,description:this.newDescription};this.$emit("addGoal",{newGoal:e}),this.newName="",this.newDescription=""}}};const ot=(0,m.Z)(st,[["render",at]]);var it=ot,rt=n(3907),ut={components:{GoalList:Be,GoalAdd:it},computed:(0,me.Z)({},(0,rt.Se)({activeGoals:"activeGoals",activeCompletedGoals:"activeCompletedGoals",activeInProgressGoals:"activeInProgressGoals"})),methods:{addGoal:function(e){var t=e.newGoal;this.$store.dispatch("createGoal",{name:t.name,description:t.description})},saveEditedGoal:function(e){var t=e.editedGoal;this.$store.dispatch("saveEditedGoal",{editedGoal:t})}},created:function(){this.$store.dispatch("fetchGoals")}};const lt=(0,m.Z)(ut,[["render",de]]);var ct=lt,dt={class:"list-group-item"},mt={key:0,class:"list-group-item-heading"},pt={class:"d-flex w-100 justify-content-between align-items-center"},gt={class:"flex-column text-right"},kt={class:"align-items-end d-flex w-100 justify-content-between"},ft={class:"p-2 my-2 list-group-item-light list-group-item-secondary"},bt={key:1},vt={class:"pt-3 container list-group"},Tt={key:0},ht=(0,s._)("h3",{class:"text-muted"},"Tasks",-1);function wt(e,t,n,a,o,i){var r=(0,s.up)("font-awesome-icon"),u=(0,s.up)("AppDate"),l=(0,s.up)("GoalEditor"),c=(0,s.up)("TaskList"),d=(0,s.up)("TaskAdd");return(0,s.wg)(),(0,s.iD)("div",dt,[o.editingGoal?((0,s.wg)(),(0,s.iD)("div",bt,[(0,s.Wm)(l,{goal:i.goal,onFinishEditingGoal:i.finishEditingGoal,onSaveEditedGoal:i.saveEditedGoal},null,8,["goal","onFinishEditingGoal","onSaveEditedGoal"])])):((0,s.wg)(),(0,s.iD)("div",mt,[(0,s._)("div",pt,[(0,s._)("h2",{class:(0,xe.C_)(["mb-1 mr-auto p-2",{"text-muted":i.goal.completed}])},(0,xe.zw)(i.goal.name),3),(0,s._)("div",gt,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editGoal()}),class:"badge badge-pill"},[(0,s.Wm)(r,{icon:"user-pen"})]),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.removeGoal(i.goal)}),class:"badge badge-pill text-danger"},[(0,s.Wm)(r,{icon:"trash"})])]),i.goal.completed?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=function(e){return i.toggleGoalCompletion(i.goal)})}," Done ")):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"badge badge-warning badge-pill",onClick:t[3]||(t[3]=function(e){return i.toggleGoalCompletion(i.goal)})}," In Progress "))])]),(0,s._)("div",kt,[(0,s._)("p",ft,(0,xe.zw)(i.goal.description),1),(0,s.Wm)(u,{timestamp:i.goal.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])),(0,s._)("div",vt,[0!=i.activeGoalTasks.length?((0,s.wg)(),(0,s.iD)("div",Tt,[ht,(0,s.Wm)(c,{tasks:i.activeInProgressGoalTasks,onSaveEditedTask:i.saveEditedTask},null,8,["tasks","onSaveEditedTask"]),(0,s.Wm)(c,{tasks:i.activeCompletedGoalTasks,onSaveEditedTask:i.saveEditedTask},null,8,["tasks","onSaveEditedTask"])])):(0,s.kq)("",!0),(0,s.Wm)(d,{onAddTask:i.addTask},null,8,["onAddTask"])])])}var St={class:"pl-3"},_t={key:0},yt={key:1};function Gt(e,t,n,a,o,i){var r=(0,s.up)("TaskCompleted"),u=(0,s.up)("TaskInProgress"),l=(0,s.up)("TaskEditor");return(0,s.wg)(),(0,s.iD)("div",St,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.tasks,(function(e){return(0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"list-group-item"},[i.editingThisTask(e.id)?((0,s.wg)(),(0,s.iD)("div",yt,[(0,s.Wm)(l,{task:e,onFinishEditingTask:i.finishEditingTask,onSaveEditedTask:i.saveEditedTask},null,8,["task","onFinishEditingTask","onSaveEditedTask"])])):((0,s.wg)(),(0,s.iD)("div",_t,[e.completed?((0,s.wg)(),(0,s.j4)(r,{key:0,task:e,onEditTask:i.editTask,onRemoveTask:i.removeTask,onToggleTaskCompletion:i.toggleTaskCompletion},null,8,["task","onEditTask","onRemoveTask","onToggleTaskCompletion"])):((0,s.wg)(),(0,s.j4)(u,{key:1,task:e,onEditTask:i.editTask,onRemoveTask:i.removeTask,onToggleTaskCompletion:i.toggleTaskCompletion},null,8,["task","onEditTask","onRemoveTask","onToggleTaskCompletion"]))]))])})),128))])}var Et={class:"form-group"},xt={class:"d-flex w-100"},Dt=(0,s._)("label",{for:"editName",class:"mr-auto"},"Task Name",-1),It={type:"submit",class:"badge badge-pill mb-1"},Ct={class:"form-group"},Zt=(0,s._)("label",{for:"editDescription"},"Task Description",-1),$t=(0,s._)("div",null,[(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Save Task")],-1);function Pt(e,t,n,o,i,r){var u=(0,s.up)("font-awesome-icon"),l=(0,s.Q2)("focus");return(0,s.wg)(),(0,s.iD)("form",{onKeyup:t[4]||(t[4]=(0,a.D2)((function(){return r.cancelEdit&&r.cancelEdit.apply(r,arguments)}),["esc"])),onSubmit:t[5]||(t[5]=(0,a.iM)((function(){return r.saveTask&&r.saveTask.apply(r,arguments)}),["prevent"])),class:"p-2"},[(0,s._)("div",Et,[(0,s._)("div",xt,[Dt,(0,s._)("button",It,[(0,s.Wm)(u,{icon:"floppy-disk"})]),(0,s._)("button",{onClick:t[0]||(t[0]=function(){return r.cancelEdit&&r.cancelEdit.apply(r,arguments)}),class:"badge badge-pill mb-1 text-danger"},[(0,s.Wm)(u,{icon:"rectangle-xmark"})])]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.editName=e}),type:"text",class:"form-control"},null,512),[[a.nr,i.editName],[l]])]),(0,s._)("div",Ct,[Zt,(0,s.wy)((0,s._)("textarea",{onKeyup:t[2]||(t[2]=(0,a.D2)((0,a.iM)((function(){return r.saveTask&&r.saveTask.apply(r,arguments)}),["prevent"]),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.editDescription=e}),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,i.editDescription]])]),$t],32)}var Nt={props:{task:{required:!0,type:Object}},data:function(){return{editName:this.task.name,editDescription:this.task.description}},emits:["saveEditedTask","finishEditingTask"],methods:{saveTask:function(){var e=(0,me.Z)((0,me.Z)({},this.task),{},{name:this.editName,description:this.editDescription});this.$emit("saveEditedTask",{editedTask:e}),this.$emit("finishEditingTask",{})},cancelEdit:function(){this.$emit("finishEditingTask",{})}}};const Rt=(0,m.Z)(Nt,[["render",Pt]]);var Wt=Rt,Ut={class:"list-group-item-heading"},jt={class:"d-flex w-100 justify-content-between align-items-center"},At={class:"mb-1 mr-auto p-2"},Mt={class:"flex-column text-right"};function qt(e,t,n,a,o,i){var r=(0,s.up)("router-link"),u=(0,s.up)("font-awesome-icon"),l=(0,s.up)("AppDate");return(0,s.wg)(),(0,s.iD)("div",Ut,[(0,s._)("div",jt,[(0,s._)("del",At,[(0,s.Wm)(r,{to:{name:"PageTaskShow",params:{goalId:n.task.goal,taskId:n.task.id}},class:"text-muted"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,xe.zw)(n.task.name),1)]})),_:1},8,["to"])]),(0,s._)("div",Mt,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editTask(n.task.id)}),class:"badge badge-pill"},[(0,s.Wm)(u,{icon:"user-pen"})]),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.removeTask(n.task)}),class:"badge badge-pill text-danger"},[(0,s.Wm)(u,{icon:"trash"})])]),(0,s._)("div",null,[(0,s._)("button",{class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=function(e){return i.toggleTaskCompletion(n.task)})}," Done ")]),(0,s.Wm)(l,{timestamp:n.task.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])])}var Ot={props:{task:{required:!0,type:Object}},emits:["editTask","removeTask","toggleTaskCompletion"],methods:{editTask:function(e){this.$emit("editTask",{taskId:e})},removeTask:function(e){this.$emit("removeTask",{task:e})},toggleTaskCompletion:function(e){this.$emit("toggleTaskCompletion",{task:e})}}};const Ft=(0,m.Z)(Ot,[["render",qt]]);var Vt=Ft,Lt={class:"list-group-item-heading"},zt={class:"d-flex w-100 justify-content-between align-items-center"},Kt={class:"mb-1 mr-auto p-2"},Ht={class:"flex-column text-right"},Bt={class:"align-items-end d-flex w-100100 justify-content-between"},Qt={class:"p-2 my-2 list-group-item-light list-group-item-secondary"};function Yt(e,t,n,a,o,i){var r=(0,s.up)("router-link"),u=(0,s.up)("font-awesome-icon"),l=(0,s.up)("AppDate");return(0,s.wg)(),(0,s.iD)("div",Lt,[(0,s._)("div",zt,[(0,s._)("h4",Kt,[(0,s.Wm)(r,{to:{name:"PageTaskShow",params:{goalId:n.task.goal,taskId:n.task.id}}},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,xe.zw)(n.task.name),1)]})),_:1},8,["to"])]),(0,s._)("div",Ht,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editTask(n.task.id)}),class:"badge badge-pill"},[(0,s.Wm)(u,{icon:"user-pen"})]),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.removeTask(n.task)}),class:"badge badge-pill text-danger"},[(0,s.Wm)(u,{icon:"trash"})])]),(0,s._)("button",{class:"badge badge-warning badge-pill",onClick:t[2]||(t[2]=function(e){return i.toggleTaskCompletion(n.task)})}," In Progress ")])]),(0,s._)("div",Bt,[(0,s._)("p",Qt,(0,xe.zw)(n.task.description),1),(0,s.Wm)(l,{timestamp:n.task.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])}var Jt={props:{task:{required:!0,type:Object}},emits:["editTask","removeTask","toggleTaskCompletion"],methods:{editTask:function(e){this.$emit("editTask",{taskId:e})},removeTask:function(e){this.$emit("removeTask",{task:e})},toggleTaskCompletion:function(e){this.$emit("toggleTaskCompletion",{task:e})}}};const Xt=(0,m.Z)(Jt,[["render",Yt]]);var en=Xt,tn={components:{TaskEditor:Wt,TaskCompleted:Vt,TaskInProgress:en},props:{tasks:{requred:!0,type:Array}},data:function(){return{editingTaskId:null}},emits:["saveEditedTask","updateTaskCompletion","updateTaskRemoval"],methods:{editingThisTask:function(e){return this.editingTaskId===e},editTask:function(e){this.editingTaskId=e.taskId},finishEditingTask:function(){this.editingTaskId=null},saveEditedTask:function(e){this.$emit("saveEditedTask",e)},toggleTaskCompletion:function(e){var t=e.task,n=(0,me.Z)((0,me.Z)({},t),{},{completed:!t.completed});this.$emit("saveEditedTask",{editedTask:n})},removeTask:function(e){var t=e.task,n=(0,me.Z)((0,me.Z)({},t),{},{removed:!0});this.$emit("saveEditedTask",{editedTask:n})}}};const nn=(0,m.Z)(tn,[["render",Gt]]);var an=nn,sn={class:"pl-3"},on={class:"list-group-item"},rn=(0,s._)("h5",{class:"p-2 text-muted"},"Add a new task",-1),un={class:"form-group"},ln=(0,s._)("label",{for:"newName"},"Task Name",-1),cn={class:"form-group"},dn=(0,s._)("label",{for:"newDescription"},"Task Description",-1),mn=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Add Task",-1);function pn(e,t,n,o,i,r){return(0,s.wg)(),(0,s.iD)("div",sn,[(0,s._)("div",on,[rn,(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)((function(){return r.saveTask&&r.saveTask.apply(r,arguments)}),["prevent"])),class:"p-2"},[(0,s._)("div",un,[ln,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.newName=e}),type:"text",class:"form-control"},null,512),[[a.nr,i.newName]])]),(0,s._)("div",cn,[dn,(0,s.wy)((0,s._)("textarea",{onKeyup:t[1]||(t[1]=(0,a.D2)((0,a.iM)((function(){return r.saveTask&&r.saveTask.apply(r,arguments)}),["prevent"]),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.newDescription=e}),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,i.newDescription]])]),mn],32)])])}var gn={data:function(){return{newName:"",newDescription:""}},methods:{saveTask:function(){var e={name:this.newName,description:this.newDescription};this.$emit("addTask",{newTask:e}),this.newName="",this.newDescription=""}}};const kn=(0,m.Z)(gn,[["render",pn]]);var fn=kn,bn={components:{TaskList:an,TaskAdd:fn,GoalEditor:Ee},data:function(){return{editingGoal:!1}},props:{goalId:{required:!0,type:String}},computed:{goal:function(){return this.$store.getters.goal(this.goalId)},goalTasks:function(){return this.$store.getters.goalTasks},activeGoalTasks:function(){return this.$store.getters.activeGoalTasks(this.goalTasks)},activeCompletedGoalTasks:function(){return this.$store.getters.activeCompletedGoalTasks(this.activeGoalTasks)},activeInProgressGoalTasks:function(){return this.$store.getters.activeInProgressGoalTasks(this.activeGoalTasks)}},methods:{editGoal:function(){return this.editingGoal=!0},finishEditingGoal:function(){return this.editingGoal=!1},saveEditedGoal:function(e){var t=e.editedGoal;this.$store.dispatch("saveEditedGoal",{editedGoal:t})},toggleGoalCompletion:function(e){this.$store.dispatch("saveEditedGoal",{editedGoal:(0,me.Z)((0,me.Z)({},e),{},{completed:!this.goal.completed})})},removeGoal:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("saveEditedGoal",{editedGoal:(0,me.Z)((0,me.Z)({},e),{},{removed:!0})});case 2:a=n.sent,a&&t.$router.push({name:"PageHome"});case 4:case"end":return n.stop()}}),n)})))()},addTask:function(e){var t=e.newTask;this.$store.dispatch("createTask",{newTask:(0,me.Z)((0,me.Z)({},t),{},{goal:parseInt(this.goalId)})})},saveEditedTask:function(e){var t=e.editedTask;this.$store.dispatch("saveEditedTask",{editedTask:(0,me.Z)({},t)})}},created:function(){this.$store.dispatch("fetchGoalTasks",{goalId:this.goalId})}};const vn=(0,m.Z)(bn,[["render",wt]]);var Tn=vn,hn={class:"list-group-item"},wn={key:0,class:"list-group-item-heading"},Sn={class:"d-flex w-100 justify-content-between align-items-center"},_n={class:"flex-column text-right"},yn={class:"align-items-end d-flex w-100 justify-content-between"},Gn={class:"p-2 my-2 list-group-item-light list-group-item-secondary"},En={key:1},xn={class:"pt-3 container list-group"},Dn={key:0},In=(0,s._)("h4",{class:"text-muted p-2"},"Sub-tasks",-1);function Cn(e,t,n,a,o,i){var r=(0,s.up)("font-awesome-icon"),u=(0,s.up)("AppDate"),l=(0,s.up)("TaskEditor"),c=(0,s.up)("SubTaskList"),d=(0,s.up)("SubTaskAdd");return(0,s.wg)(),(0,s.iD)("div",hn,[o.editingTask?((0,s.wg)(),(0,s.iD)("div",En,[(0,s.Wm)(l,{task:i.task,onFinishEditingTask:i.finishEditingTask,onSaveEditedTask:i.saveEditedTask},null,8,["task","onFinishEditingTask","onSaveEditedTask"])])):((0,s.wg)(),(0,s.iD)("div",wn,[(0,s._)("div",Sn,[(0,s._)("h2",{class:(0,xe.C_)(["mb-1 mr-auto p-2",{"text-muted":i.task.completed}])},(0,xe.zw)(i.task.name),3),(0,s._)("div",_n,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editTask()}),class:"badge badge-pill"},[(0,s.Wm)(r,{icon:"user-pen"})]),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.removeTask(i.task)}),class:"badge badge-pill text-danger"},[(0,s.Wm)(r,{icon:"trash"})])]),i.task.completed?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=function(e){return i.toggleTaskCompletion(i.task)})}," Done ")):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"badge badge-warning badge-pill",onClick:t[3]||(t[3]=function(e){return i.toggleTaskCompletion(i.task)})}," In Progress "))])]),(0,s._)("div",yn,[(0,s._)("p",Gn,(0,xe.zw)(i.task.description),1),(0,s.Wm)(u,{timestamp:i.task.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])),(0,s._)("div",xn,[0!=i.activeTaskSubTasks.length?((0,s.wg)(),(0,s.iD)("div",Dn,[In,(0,s.Wm)(c,{subTasks:i.activeInProgressTaskSubTasks,onSaveEditedSubTask:i.saveEditedSubTask},null,8,["subTasks","onSaveEditedSubTask"]),(0,s.Wm)(c,{subTasks:i.activeCompletedTaskSubTasks,onSaveEditedSubTask:i.saveEditedSubTask},null,8,["subTasks","onSaveEditedSubTask"])])):(0,s.kq)("",!0),(0,s.Wm)(d,{onAddSubTask:i.addSubTask},null,8,["onAddSubTask"])])])}var Zn={class:"pl-3"},$n={key:0},Pn={key:1};function Nn(e,t,n,a,o,i){var r=(0,s.up)("SubTaskCompleted"),u=(0,s.up)("SubTaskInProgress"),l=(0,s.up)("SubTaskEditor");return(0,s.wg)(),(0,s.iD)("div",Zn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.subTasks,(function(e){return(0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"list-group-item"},[i.editingThisSubTask(e.id)?((0,s.wg)(),(0,s.iD)("div",Pn,[(0,s.Wm)(l,{subTask:e,onFinishEditingSubTask:i.finishEditingSubTask,onSaveEditedSubTask:i.saveEditedSubTask},null,8,["subTask","onFinishEditingSubTask","onSaveEditedSubTask"])])):((0,s.wg)(),(0,s.iD)("div",$n,[e.completed?((0,s.wg)(),(0,s.j4)(r,{key:0,subTask:e,onEditSubTask:i.editSubTask,onRemoveSubTask:i.removeSubTask,onToggleSubTaskCompletion:i.toggleSubTaskCompletion},null,8,["subTask","onEditSubTask","onRemoveSubTask","onToggleSubTaskCompletion"])):((0,s.wg)(),(0,s.j4)(u,{key:1,subTask:e,onEditSubTask:i.editSubTask,onRemoveSubTask:i.removeSubTask,onToggleSubTaskCompletion:i.toggleSubTaskCompletion},null,8,["subTask","onEditSubTask","onRemoveSubTask","onToggleSubTaskCompletion"]))]))])})),128))])}var Rn={class:"form-group"},Wn={class:"d-flex w-100"},Un=(0,s._)("label",{for:"editName",class:"mr-auto"},"Sub-Task Name",-1),jn={type:"submit",class:"badge badge-pill mb-1"},An={class:"form-group"},Mn=(0,s._)("label",{for:"editDescription"},"Sub-Task Description",-1),qn=(0,s._)("div",null,[(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Save Sub-Task")],-1);function On(e,t,n,o,i,r){var u=(0,s.up)("font-awesome-icon"),l=(0,s.Q2)("focus");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)((function(){return r.saveSubTask&&r.saveSubTask.apply(r,arguments)}),["prevent"])),onKeyup:t[5]||(t[5]=(0,a.D2)((function(){return r.cancelEdit&&r.cancelEdit.apply(r,arguments)}),["esc"])),class:"p-2"},[(0,s._)("div",Rn,[(0,s._)("div",Wn,[Un,(0,s._)("button",jn,[(0,s.Wm)(u,{icon:"floppy-disk"})]),(0,s._)("button",{onClick:t[0]||(t[0]=function(){return r.cancelEdit&&r.cancelEdit.apply(r,arguments)}),class:"badge badge-pill mb-1 text-danger"},[(0,s.Wm)(u,{icon:"rectangle-xmark"})])]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.editName=e}),type:"text",class:"form-control"},null,512),[[a.nr,i.editName],[l]])]),(0,s._)("div",An,[Mn,(0,s.wy)((0,s._)("textarea",{onKeyup:t[2]||(t[2]=(0,a.D2)((0,a.iM)((function(){return r.saveSubTask&&r.saveSubTask.apply(r,arguments)}),["prevent"]),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.editDescription=e}),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,i.editDescription]])]),qn],32)}var Fn={props:{subTask:{required:!0,type:Object}},data:function(){return{editName:this.subTask.name,editDescription:this.subTask.description}},emits:["saveEditedSubTask","finishEditingSubTask"],methods:{saveSubTask:function(){var e=(0,me.Z)((0,me.Z)({},this.subTask),{},{name:this.editName,description:this.editDescription});this.$emit("saveEditedSubTask",{editedSubTask:e}),this.$emit("finishEditingSubTask",{})},cancelEdit:function(){this.$emit("finishEditingSubTask",{})}}};const Vn=(0,m.Z)(Fn,[["render",On]]);var Ln=Vn,zn={class:"list-group-item-heading"},Kn={class:"d-flex w-100 justify-content-between align-items-center"},Hn={class:"mb-1 mr-auto p-2"},Bn={class:"flex-column text-right"},Qn={class:"badge badge-pill text-danger"};function Yn(e,t,n,a,o,i){var r=(0,s.up)("router-link"),u=(0,s.up)("font-awesome-icon"),l=(0,s.up)("AppDate");return(0,s.wg)(),(0,s.iD)("div",zn,[(0,s._)("div",Kn,[(0,s._)("del",Hn,[(0,s.Wm)(r,{to:{name:"PageSubTaskShow",params:{goalId:n.subTask.goal,taskId:n.subTask.task,subTaskId:n.subTask.id}},class:"text-muted"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,xe.zw)(n.subTask.name),1)]})),_:1},8,["to"])]),(0,s._)("div",Bn,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editSubTask(n.subTask.id)}),class:"badge badge-pill"},[(0,s.Wm)(u,{icon:"user-pen"})]),(0,s._)("button",Qn,[(0,s.Wm)(u,{onClick:t[1]||(t[1]=function(e){return i.removeSubTask(n.subTask)}),icon:"trash"})])]),(0,s._)("div",null,[(0,s._)("button",{class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=function(e){return i.toggleSubTaskCompletion(n.subTask)})}," Done ")]),(0,s.Wm)(l,{timestamp:n.subTask.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])])}var Jn={props:{subTask:{required:!0,type:Object}},emits:["editSubTask","removeSubTask","toggleSubTaskCompletion"],methods:{editSubTask:function(e){this.$emit("editSubTask",{subTaskId:e})},removeSubTask:function(e){this.$emit("removeSubTask",{subTask:e})},toggleSubTaskCompletion:function(e){this.$emit("toggleSubTaskCompletion",{subTask:e})}}};const Xn=(0,m.Z)(Jn,[["render",Yn]]);var ea=Xn,ta={class:"list-group-item-heading"},na={class:"d-flex w-100 justify-content-between align-items-center"},aa={class:"mb-1 mr-auto p-2"},sa={class:"flex-column text-right"},oa={class:"badge badge-pill text-danger"},ia={class:"align-items-end d-flex w-100 justify-content-between"},ra={class:"my-2 list-group-item-light list-group-item-secondary p-2"};function ua(e,t,n,a,o,i){var r=(0,s.up)("router-link"),u=(0,s.up)("font-awesome-icon"),l=(0,s.up)("AppDate");return(0,s.wg)(),(0,s.iD)("div",ta,[(0,s._)("div",na,[(0,s._)("h5",aa,[(0,s.Wm)(r,{to:{name:"PageSubTaskShow",params:{goalId:n.subTask.goal,taskId:n.subTask.task,subTaskId:n.subTask.id}}},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,xe.zw)(n.subTask.name),1)]})),_:1},8,["to"])]),(0,s._)("div",sa,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editSubTask(n.subTask.id)}),class:"badge badge-pill"},[(0,s.Wm)(u,{icon:"user-pen"})]),(0,s._)("button",oa,[(0,s.Wm)(u,{onClick:t[1]||(t[1]=function(e){return i.removeSubTask(n.subTask)}),icon:"trash"})])]),(0,s._)("button",{class:"badge badge-warning badge-pill",onClick:t[2]||(t[2]=function(e){return i.toggleSubTaskCompletion(n.subTask)})}," In Progress ")])]),(0,s._)("div",ia,[(0,s._)("p",ra,(0,xe.zw)(n.subTask.description),1),(0,s.Wm)(l,{timestamp:n.subTask.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])}var la={props:{subTask:{required:!0,type:Object}},emits:["editSubTask","removeSubTask","toggleSubTaskCompletion"],methods:{editSubTask:function(e){this.$emit("editSubTask",{subTaskId:e})},removeSubTask:function(e){this.$emit("removeSubTask",{subTask:e})},toggleSubTaskCompletion:function(e){this.$emit("toggleSubTaskCompletion",{subTask:e})}}};const ca=(0,m.Z)(la,[["render",ua]]);var da=ca,ma={components:{SubTaskEditor:Ln,SubTaskCompleted:ea,SubTaskInProgress:da},props:{subTasks:{requred:!0,type:Array}},data:function(){return{editingSubTaskId:null}},emits:["saveEditedSubTask"],methods:{editingThisSubTask:function(e){return this.editingSubTaskId===e},editSubTask:function(e){this.editingSubTaskId=e.subTaskId},finishEditingSubTask:function(){this.editingSubTaskId=null},saveEditedSubTask:function(e){this.$emit("saveEditedSubTask",e)},toggleSubTaskCompletion:function(e){var t=e.subTask,n=(0,me.Z)((0,me.Z)({},t),{},{completed:!t.completed});this.$emit("saveEditedSubTask",{editedSubTask:n})},removeSubTask:function(e){var t=e.subTask,n=(0,me.Z)((0,me.Z)({},t),{},{removed:!0});this.$emit("saveEditedSubTask",{editedSubTask:n})}}};const pa=(0,m.Z)(ma,[["render",Nn]]);var ga=pa,ka={class:"pl-3"},fa={class:"list-group-item"},ba=(0,s._)("h5",{class:"text-muted p-2"},"Add a new sub-task",-1),va={class:"form-group"},Ta=(0,s._)("label",{for:"newName"},"Sub-task Name",-1),ha={class:"form-group"},wa=(0,s._)("label",{for:"newDescription"},"Sub-task Description",-1),Sa=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Add sub-task",-1);function _a(e,t,n,o,i,r){return(0,s.wg)(),(0,s.iD)("div",ka,[(0,s._)("div",fa,[ba,(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)((function(){return r.saveSubTask&&r.saveSubTask.apply(r,arguments)}),["prevent"])),class:"p-2"},[(0,s._)("div",va,[Ta,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.newName=e}),type:"text",class:"form-control"},null,512),[[a.nr,i.newName]])]),(0,s._)("div",ha,[wa,(0,s.wy)((0,s._)("textarea",{onKeyup:t[1]||(t[1]=(0,a.D2)((0,a.iM)((function(){return r.saveSubTask&&r.saveSubTask.apply(r,arguments)}),["prevent"]),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.newDescription=e}),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,i.newDescription]])]),Sa],32)])])}var ya={data:function(){return{newName:"",newDescription:""}},methods:{saveSubTask:function(){var e={name:this.newName,description:this.newDescription};this.$emit("addSubTask",{newSubTask:e}),this.newName="",this.newDescription=""}}};const Ga=(0,m.Z)(ya,[["render",_a]]);var Ea=Ga,xa={components:{SubTaskList:ga,SubTaskAdd:Ea,TaskEditor:Wt},data:function(){return{editingTask:!1}},props:{taskId:{required:!0,type:String},goalId:{required:!0,type:String}},computed:{task:function(){return this.$store.getters.task(this.taskId)},taskSubTasks:function(){return this.$store.getters.taskSubTasks(this.taskId)},activeTaskSubTasks:function(){return this.$store.getters.activeTaskSubTasks(this.taskSubTasks)},activeCompletedTaskSubTasks:function(){return this.$store.getters.activeCompletedTaskSubTasks(this.activeTaskSubTasks)},activeInProgressTaskSubTasks:function(){return this.$store.getters.activeInProgressTaskSubTasks(this.activeTaskSubTasks)}},methods:{editTask:function(){return this.editingTask=!0},finishEditingTask:function(){return this.editingTask=!1},saveEditedTask:function(e){var t=e.editedTask;this.$store.dispatch("saveEditedTask",{editedTask:(0,me.Z)({},t)})},removeTask:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("saveEditedTask",{editedTask:(0,me.Z)((0,me.Z)({},e),{},{removed:!0})});case 2:a=n.sent,a&&t.$router.push({name:"PageGoalShow",params:{goalId:t.goalId}});case 4:case"end":return n.stop()}}),n)})))()},toggleTaskCompletion:function(e){this.$store.dispatch("saveEditedTask",{editedTask:(0,me.Z)((0,me.Z)({},e),{},{completed:!e.completed})})},addSubTask:function(e){var t=e.newSubTask;this.$store.dispatch("createSubTask",{newSubTask:(0,me.Z)((0,me.Z)({},t),{},{goal:parseInt(this.goalId),task:parseInt(this.taskId)})})},saveEditedSubTask:function(e){var t=e.editedSubTask;this.$store.dispatch("saveEditedSubTask",{editedSubTask:(0,me.Z)({},t)})}},created:function(){this.$store.dispatch("fetchTaskSubTasks",{goalId:this.goalId,taskId:this.taskId})}};const Da=(0,m.Z)(xa,[["render",Cn]]);var Ia=Da,Ca={class:"list-group-item"},Za={key:0,class:"list-group-item-heading"},$a={class:"d-flex w-100 justify-content-between align-items-center"},Pa={class:"flex-column text-right"},Na={class:"align-items-end d-flex w-100 justify-content-between"},Ra={class:"my-2 list-group-item-light list-group-item-secondary p-2"},Wa={key:1};function Ua(e,t,n,a,o,i){var r=(0,s.up)("font-awesome-icon"),u=(0,s.up)("AppDate"),l=(0,s.up)("SubTaskEditor");return(0,s.wg)(),(0,s.iD)("div",Ca,[o.editingSubTask?((0,s.wg)(),(0,s.iD)("div",Wa,[(0,s.Wm)(l,{subTask:i.subTask,onFinishEditingSubTask:i.finishEditingSubTask,onSaveEditedSubTask:i.saveEditedSubTask},null,8,["subTask","onFinishEditingSubTask","onSaveEditedSubTask"])])):((0,s.wg)(),(0,s.iD)("div",Za,[(0,s._)("div",$a,[(0,s._)("h4",{class:(0,xe.C_)(["mb-1 mr-auto p-2",{"text-muted":i.subTask.completed}])},(0,xe.zw)(i.subTask.name),3),(0,s._)("div",Pa,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.editSubTask()}),class:"badge badge-pill"},[(0,s.Wm)(r,{icon:"user-pen"})]),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.removeSubTask(i.subTask)}),class:"badge badge-pill text-danger"},[(0,s.Wm)(r,{icon:"trash"})])]),i.subTask.completed?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=function(e){return i.toggleSubTaskCompletion(i.subTask)})}," Done ")):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"badge badge-warning badge-pill",onClick:t[3]||(t[3]=function(e){return i.toggleSubTaskCompletion(i.subTask)})}," In Progress "))])]),(0,s._)("div",Na,[(0,s._)("p",Ra,(0,xe.zw)(i.subTask.description),1),(0,s.Wm)(u,{timestamp:i.subTask.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])]))])}var ja={components:{SubTaskEditor:Ln},data:function(){return{editingSubTask:!1}},props:{subTaskId:{required:!0,type:String},taskId:{required:!0,type:String},goalId:{required:!0,type:String}},computed:{subTask:function(){return this.$store.getters.subTask(this.subTaskId)}},methods:{editSubTask:function(){return this.editingSubTask=!0},finishEditingSubTask:function(){return this.editingSubTask=!1},saveEditedSubTask:function(e){var t=e.editedSubTask;this.$store.dispatch("saveEditedSubTask",{editedSubTask:(0,me.Z)({},t)})},toggleSubTaskCompletion:function(e){this.$store.dispatch("saveEditedSubTask",{editedSubTask:(0,me.Z)((0,me.Z)({},e),{},{completed:!e.completed})})},removeSubTask:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("saveEditedSubTask",{editedSubTask:(0,me.Z)((0,me.Z)({},e),{},{removed:!0})});case 2:a=n.sent,a&&t.$router.push({name:"PageTaskShow",params:{goalId:t.goalId,taskId:t.taskId}});case 4:case"end":return n.stop()}}),n)})))()}}};const Aa=(0,m.Z)(ja,[["render",Ua]]);var Ma=Aa,qa={class:"text-center"},Oa=(0,s.Uk)("Home");function Fa(e,t,n,a,o,i){var r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",qa,[(0,s._)("h1",null,"The "+(0,xe.zw)(n.resource||"page")+" you're looking for doesn't exist",1),(0,s._)("h1",null,[(0,s.Wm)(r,{to:{name:"PageHome"}},{default:(0,s.w5)((function(){return[Oa]})),_:1})])])}var Va={props:{resource:{required:!1,type:String}}};const La=(0,m.Z)(Va,[["render",Fa]]);var za=La,Ka=n(2119),Ha=(n(9826),n(7327),n(4553),n(9600),n(1249),function(e,t){return e.find((function(e){return e.id===parseInt(t)}))}),Ba=function(e,t,n){return e.filter((function(e){return e[t]===parseInt(n)}))},Qa=function(e){return e.filter((function(e){return!1===e.removed}))},Ya=function(e){return e.filter((function(e){return!0===e.completed}))},Ja=function(e){return e.filter((function(e){return!1===e.completed}))},Xa=function(e){var t=e.resource;return function(e,n){var a=n.item;e[t][e[t].findIndex((function(e){return e.id===a.id}))]=a}},es=function(e){var t=e.resource,n=void 0===t?"":t,a=e.ids,s=void 0===a?[]:a,o={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL,i=["/goals/","/tasks/","/subtasks/"];return o+=s.map((function(e,t){return i[t]+e})).join(""),n?o+"/"+n+"/":o+"/"},ts=function(e){return{headers:{Authorization:"Token "+e}}},ns=n(9669),as=n.n(ns),ss={state:function(){return{token:null}},actions:{login:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=t.username,o=t.password,n.next=4,as().post(es({resource:"login"}),{username:s,password:o}).then((function(e){return a("setToken",e.data.token),a("setTokenState",e.data.token),!0})).catch((function(e){return console.log(e),!1}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},signUp:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,as().post(es({resource:"signup"}),(0,me.Z)({},t)).then((function(){return!0})).catch((function(){return!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},logOut:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,as().post(es({resource:"logout"}),{token:t}).then((function(){return a("removeToken"),!0})).catch((function(){return!1}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},refreshTokenState:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,as().post(es({resource:"token"}),{token:t}).then((function(e){return a("setTokenState",e.data.token),e.data.token})).catch((function(){return a("removeToken",t),!1}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()}},mutations:{setToken:function(e,t){localStorage.setItem("token",t)},setTokenState:function(e,t){e.token=t},removeToken:function(e){localStorage.removeItem("token"),e.token=""}}},os=ss,is={state:function(){return{goals:[]}},getters:{goal:function(e){return function(t){return Ha(e.goals,t)}},activeGoals:function(e){return Qa(e.goals)},activeCompletedGoals:function(e,t){return Ya(t.activeGoals)},activeInProgressGoals:function(e,t){return Ja(t.activeGoals)}},actions:{fetchGoals:function(e){return(0,c.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=e.rootState,t.next=3,as().get(es({resource:"goals"}),ts(a.userModule.token)).then((function(e){n("setGoals",e.data)})).catch((function(e){console.log(e)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},fetchGoal:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.dispatch,s=e.rootState,o=t.goalId,n.next=4,as().get(es({ids:[o]}),ts(s.userModule.token)).then((function(e){return a("upsertGoal",e.data),e.data})).catch((function(e){return console.log(e),null}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},createGoal:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.name,i=t.description,n.next=4,as().post(es({resource:"goals"}),{name:o,description:i,completed:!1,removed:!1},ts(s.userModule.token)).then((function(e){return a("pushGoal",e.data),e.data})).catch((function(e){console.log(e)}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},saveEditedGoal:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.editedGoal,n.next=4,as().put(es({ids:[o.id]}),(0,me.Z)({},o),ts(s.userModule.token)).then((function(e){return a("updateGoal",{item:e.data}),!0})).catch((function(e){return console.log(e),!1}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},upsertGoal:function(e,t){var n=e.state,a=e.commit;Ha(n.goals,t)?a("updateGoal",{item:t}):a("pushGoal",t)}},mutations:{setGoals:function(e,t){e.goals=t},pushGoal:function(e,t){e.goals.push(t)},updateGoal:Xa({resource:"goals"})}},rs=is,us={state:function(){return{tasks:[]}},getters:{task:function(e){return function(t){return Ha(e.tasks,t)}},goalTasks:function(e){return e.tasks},activeGoalTasks:function(){return function(e){return Qa(e)}},activeCompletedGoalTasks:function(){return function(e){return Ya(e)}},activeInProgressGoalTasks:function(){return function(e){return Ja(e)}}},actions:{fetchTask:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.dispatch,s=e.rootState,o=t.goalId,i=t.taskId,n.next=4,as().get(es({ids:[o,i]}),ts(s.userModule.token)).then((function(e){return a("upsertTask",e.data),!0})).catch((function(e){return console.log(e),!1}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},fetchGoalTasks:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.goalId,n.next=4,as().get(es({resource:"tasks",ids:[o]}),ts(s.userModule.token)).then((function(e){a("setTasks",e.data)})).catch((function(e){console.log(e)}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},createTask:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.newTask,n.next=4,as().post(es({resource:"tasks",ids:[o.goal]}),(0,me.Z)((0,me.Z)({},o),{},{completed:!1,removed:!1}),ts(s.userModule.token)).then((function(e){return a("pushTask",e.data),e.data})).catch((function(e){console.log(e)}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},saveEditedTask:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.editedTask,n.next=4,as().put(es({ids:[o.goal,o.id]}),(0,me.Z)({},o),ts(s.userModule.token)).then((function(e){return a("updateTask",{item:e.data}),!0})).catch((function(e){return console.log(e),!1}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},upsertTask:function(e,t){var n=e.state,a=e.commit;Ha(n.tasks,t)?a("updateTask",{item:t}):a("pushTask",t)}},mutations:{setTasks:function(e,t){e.tasks=t},pushTask:function(e,t){e.tasks.push(t)},updateTask:Xa({resource:"tasks"})}},ls=us,cs={state:function(){return{subTasks:[]}},getters:{subTask:function(e){return function(t){return Ha(e.subTasks,t)}},taskSubTasks:function(e){return function(t){return Ba(e.subTasks,"task",t)}},activeTaskSubTasks:function(){return function(e){return Qa(e)}},activeCompletedTaskSubTasks:function(){return function(e){return Ya(e)}},activeInProgressTaskSubTasks:function(){return function(e){return Ja(e)}}},actions:{fetchSubTask:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.dispatch,s=e.rootState,o=t.goalId,i=t.taskId,r=t.subTaskId,n.next=4,as().get(es({ids:[o,i,r]}),ts(s.userModule.token)).then((function(e){return a("upsertSubTask",e.data),!0})).catch((function(e){return console.log(e),!1}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},fetchTaskSubTasks:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.goalId,i=t.taskId,n.next=4,as().get(es({resource:"subtasks",ids:[o,i]}),ts(s.userModule.token)).then((function(e){return a("setSubTasks",e.data),!0})).catch((function(e){return console.log(e),!1}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},createSubTask:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.newSubTask,n.next=4,as().post(es({resource:"subtasks",ids:[o.goal,o.task]}),(0,me.Z)((0,me.Z)({},o),{},{completed:!1,removed:!1}),ts(s.userModule.token)).then((function(e){return a("pushSubTask",e.data),!0})).catch((function(e){console.log(e)}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},saveEditedSubTask:function(e,t){return(0,c.Z)(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.rootState,o=t.editedSubTask,n.next=4,as().put(es({ids:[o.goal,o.task,o.id]}),(0,me.Z)({},o),ts(s.userModule.token)).then((function(e){return a("updateSubTask",{item:e.data}),!0})).catch((function(e){return console.log(e),!1}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},upsertSubTask:function(e,t){var n=e.state,a=e.commit;Ha(n.subTasks,t.id)?a("updateSubTask",{item:t}):a("pushSubTask",t)}},mutations:{setSubTasks:function(e,t){e.subTasks=t},pushSubTask:function(e,t){e.subTasks.push(t)},updateSubTask:Xa({resource:"subTasks"})}},ds=cs,ms=(0,rt.MT)({state:{},modules:{userModule:os,goalModule:rs,taskModule:ls,subTaskModule:ds}}),ps=ms,gs=[{path:"/login",name:"PageLogin",component:ie,props:!0,meta:{noAuthOnly:!0}},{path:"/signup",name:"PageSignUp",component:q,meta:{noAuthOnly:!0}},{path:"/",name:"PageHome",component:ct,meta:{requiresAuth:!0}},{path:"/goal/:goalId",name:"PageGoalShow",component:Tn,props:!0,meta:{requiresAuth:!0},beforeEnter:function(e,t,n){return(0,c.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ps.dispatch("fetchGoal",{goalId:e.params.goalId,token:ps.state.token});case 2:a=t.sent,a?n():n({name:"PageNotFound",params:{resource:"goal",pathMatch:e.path.substring(1).split("/")},query:e.query,hash:e.hash});case 4:case"end":return t.stop()}}),t)})))()}},{path:"/goal/:goalId/task/:taskId",name:"PageTaskShow",component:Ia,props:!0,meta:{requiresAuth:!0},beforeEnter:function(e,t,n){return(0,c.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ps.dispatch("fetchTask",{goalId:e.params.goalId,taskId:e.params.taskId,token:ps.state.token});case 2:a=t.sent,a?n():n({name:"PageNotFound",params:{resource:"task",pathMatch:e.path.substring(1).split("/")},query:e.query,hash:e.hash});case 4:case"end":return t.stop()}}),t)})))()}},{path:"/goal/:goalId/task/:taskId/subtask/:subTaskId",name:"PageSubTaskShow",component:Ma,props:!0,meta:{requiresAuth:!0},beforeEnter:function(e,t,n){return(0,c.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ps.dispatch("fetchSubTask",{goalId:e.params.goalId,taskId:e.params.taskId,subTaskId:e.params.subTaskId,token:ps.state.token});case 2:a=t.sent,a?n():n({name:"PageNotFound",params:{resource:"sub-task",pathMatch:e.path.substring(1).split("/")},query:e.query,hash:e.hash});case 4:case"end":return t.stop()}}),t)})))()}},{path:"/:pathMatch(.*)*",name:"PageNotFound",component:za,props:!0}],ks=(0,Ka.p7)({history:(0,Ka.PO)(),routes:gs});ks.beforeEach((function(e){return e.meta.requiresAuth?ps.dispatch("refreshTokenState",localStorage.getItem("token")).then((function(e){if(!e)return{name:"PageLogin"}})):e.meta.noAuthOnly?ps.dispatch("refreshTokenState",localStorage.getItem("token")).then((function(e){if(e)return{name:"PageHome"}})):void 0}));var fs=ks,bs=n(8947),vs=n(1436),Ts=n(7810);bs.vI.add(vs.EdJ,vs.iDc,vs.$aW,vs.QQm);var hs=(0,a.ri)(b),ws=n(323);hs.use(fs),ws.keys().forEach((function(e){var t=ws(e);t=t.default||t;var n=t.name||e.replace(/^.+\//,"").replace(/\.\w+$/,"");hs.component(n,t)})),hs.component("font-awesome-icon",Ts.GN),hs.directive("focus",{mounted:function(e){e.focus()}}),hs.use(ps),hs.mount("#app")},1973:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(6252),s=n(3577),o=["title"];function i(e,t,n,i,r,u){return(0,a.wg)(),(0,a.iD)("span",{class:"text-muted",title:u.readableDate()},(0,s.zw)(u.elapsedTime()),9,o)}var r=n(7484),u=n.n(r),l=n(4110),c=n.n(l),d=n(6176),m=n.n(d);u().extend(c()),u().extend(m());var p={props:{timestamp:{required:!0,type:String}},methods:{elapsedTime:function(){return u()(this.timestamp).fromNow()},readableDate:function(){return u()(this.timestamp).format("llll")}}},g=n(3744);const k=(0,g.Z)(p,[["render",i]]);var f=k},323:function(e,t,n){var a={"./AppDate.vue":1973};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=o,e.exports=s,s.id=323}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,o){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],o=e[c][2];for(var r=!0,u=0;u<a.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(r=!1,o<i&&(i=o));if(r){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,i=a[0],r=a[1],u=a[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(u)var c=u(n)}for(t&&t(a);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},a=self["webpackChunkgoali_vue"]=self["webpackChunkgoali_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(8848)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.d19dfa08.js.map