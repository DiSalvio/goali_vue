(function(){var e={848:function(e,t,s){"use strict";var a=s(963),o=s(252);const i={class:"container"};function n(e,t,s,a,n,l){const r=(0,o.up)("TheNavBar"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(r),(0,o.Wm)(d)])}const l={key:0,class:"navbar p-2 mb-2"},r=(0,o.Uk)("Home");function d(e,t,s,a,i,n){const d=(0,o.up)("router-link");return n.token?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.$router.back()),class:"btn btn-light"},"Back"),(0,o.Wm)(d,{to:{name:"PageHome"}},{default:(0,o.w5)((()=>[r])),_:1}),(0,o._)("button",{onClick:t[1]||(t[1]=(...e)=>n.logOut&&n.logOut(...e)),class:"btn btn-primary"},"Log Out")])):(0,o.kq)("",!0)}var u={computed:{token(){return this.$store.state.userModule.token}},methods:{async logOut(){const e=await this.$store.dispatch("logOut",this.token);e&&this.$router.push({name:"PageLogin"})}},created(){localStorage.getItem("token")&&this.$store.dispatch("refreshTokenState",localStorage.getItem("token"))}},c=s(744);const m=(0,c.Z)(u,[["render",d]]);var p=m,g={components:{TheNavBar:p}};const k=(0,c.Z)(g,[["render",n]]);var b=k;const T={class:"row h-100 justify-content-center align-items-center mt-5 mb-5"},h={class:"col-10 col-md-8 col-lg-6"},v={key:0,class:"alert alert-danger",role:"alert"},w=(0,o._)("h2",{class:"mb-0"},"Sign Up Failed",-1),f=[w],S=(0,o._)("h1",{class:"mb-4"},"Sign Up",-1),_={class:"form-outline mb-4"},y=(0,o._)("label",{for:"email"},"Email",-1),G={class:"form-outline mb-4"},E=(0,o._)("label",{for:"username"},"Username",-1),D={class:"form-outline mb-4"},I=(0,o._)("label",{for:"firstName"},"First Name",-1),C={class:"form-outline mb-4"},x=(0,o._)("label",{for:"lastName"},"Last Name",-1),$={class:"form-outline mb-4"},P=(0,o._)("label",{for:"password"},"Password",-1),N={class:"form-outline mb-4"},W=(0,o._)("label",{for:"confirmPassword"},"Confirm Password",-1),U=(0,o._)("button",{class:"btn btn-primary btn-block mb-4"},"Sign Up",-1),j=(0,o.Uk)(" Login Page ");function A(e,t,s,i,n,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",T,[(0,o._)("div",h,[n.signUpFailed?((0,o.wg)(),(0,o.iD)("div",v,f)):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,a.iM)(((...e)=>l.signUp&&l.signUp(...e)),["prevent"]))},[S,(0,o._)("div",_,[y,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),name:"email",type:"text",class:"form-control"},null,512),[[a.nr,n.email]])]),(0,o._)("div",G,[E,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.username=e),name:"username",type:"text",class:"form-control"},null,512),[[a.nr,n.username]])]),(0,o._)("div",D,[I,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.firstName=e),name:"firstName",type:"text",class:"form-control"},null,512),[[a.nr,n.firstName]])]),(0,o._)("div",C,[x,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.lastName=e),name:"lastName",type:"text",class:"form-control"},null,512),[[a.nr,n.lastName]])]),(0,o._)("div",$,[P,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.password=e),name:"password",type:"password",class:"form-control"},null,512),[[a.nr,n.password]])]),(0,o._)("div",N,[W,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.confirmPassword=e),name:"confirmPassword",type:"password",class:"form-control"},null,512),[[a.nr,n.confirmPassword]])]),(0,o._)("div",null,[U,(0,o.Wm)(r,{to:{name:"PageLogin"},class:"btn btn-light btn-block mb-4"},{default:(0,o.w5)((()=>[j])),_:1})])],32)])])}var M={data(){return{email:"",username:"",firstName:"",lastName:"",password:"",confirmPassword:"",signUpFailed:!1}},methods:{async signUp(){const e=await this.$store.dispatch("signUp",{email:this.email,username:this.username,password:this.password,confirm_password:this.confirmPassword,first_name:this.firstName,last_name:this.lastName});e?(this.signUpFailed=!1,this.$router.push({name:"PageLogin",params:{signUpSuccess:!0}})):this.signUpFailed=!0}}};const q=(0,c.Z)(M,[["render",A]]);var O=q;const F={class:"row h-100 justify-content-center align-items-center mt-5 mb-5"},Z={class:"col-10 col-md-8 col-lg-6"},V={key:0,class:"alert alert-success",role:"alert"},L=(0,o._)("h2",{class:"mb-0"},"Sign up successful, Log in now",-1),z=[L],R={key:1,class:"alert alert-danger",role:"alert"},K=(0,o._)("h2",{class:"mb-0"},"Login Failed",-1),H=[K],B=(0,o._)("h1",{class:"mb-4"},"Login",-1),Q={class:"form-outline mb-4"},Y=(0,o._)("label",{for:"username"},"Username",-1),J={class:"form-outline mb-4"},X=(0,o._)("label",{for:"password"},"Password",-1),ee=(0,o._)("button",{type:"submit",class:"btn btn-primary btn-block mb-4"},"Login",-1),te=(0,o.Uk)(" Sign Up ");function se(e,t,s,i,n,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",F,[(0,o._)("div",Z,[s.signUpSuccess?((0,o.wg)(),(0,o.iD)("div",V,z)):(0,o.kq)("",!0),n.loginFailed?((0,o.wg)(),(0,o.iD)("div",R,H)):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[B,(0,o._)("div",Q,[Y,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),name:"username",type:"text",class:"form-control"},null,512),[[a.nr,n.username]])]),(0,o._)("div",J,[X,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),name:"password",type:"password",class:"form-control"},null,512),[[a.nr,n.password]])]),(0,o._)("div",null,[ee,(0,o.Wm)(r,{to:{name:"PageSignUp"},class:"btn btn-light btn-block mb-4"},{default:(0,o.w5)((()=>[te])),_:1})])],32)])])}var ae={props:{signUpSuccess:{type:Boolean,default:!1}},data(){return{username:"",password:"",loginFailed:!1}},methods:{async login(){const e=await this.$store.dispatch("login",{username:this.username,password:this.password});e?(this.loginFailed=!1,this.$router.push({name:"PageHome"})):this.loginFailed=!0}}};const oe=(0,c.Z)(ae,[["render",se]]);var ie=oe;const ne={class:"container list-group"},le={key:0},re=(0,o._)("h1",{class:"text-muted"},"Goals",-1),de={key:1};function ue(e,t,s,a,i,n){const l=(0,o.up)("GoalList"),r=(0,o.up)("GoalAdd");return(0,o.wg)(),(0,o.iD)("div",ne,[0!=e.activeGoals.length?((0,o.wg)(),(0,o.iD)("div",le,[re,(0,o.Wm)(l,{goals:e.activeInProgressGoals,onSaveEditedGoal:n.saveEditedGoal},null,8,["goals","onSaveEditedGoal"]),(0,o.Wm)(l,{goals:e.activeCompletedGoals,onSaveEditedGoal:n.saveEditedGoal},null,8,["goals","onSaveEditedGoal"])])):((0,o.wg)(),(0,o.iD)("h1",de,"No active goals were found, add new goals below")),(0,o.Wm)(r,{onAddGoal:n.addGoal},null,8,["onAddGoal"])])}const ce={key:0},me={key:1};function pe(e,t,s,a,i,n){const l=(0,o.up)("GoalCompleted"),r=(0,o.up)("GoalInProgress"),d=(0,o.up)("GoalEditor");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.goals,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"list-group-item"},[n.editingThisGoal(e.id)?((0,o.wg)(),(0,o.iD)("div",me,[(0,o.Wm)(d,{goal:e,onFinishEditingGoal:n.finishEditingGoal,onSaveEditedGoal:n.saveEditedGoal},null,8,["goal","onFinishEditingGoal","onSaveEditedGoal"])])):((0,o.wg)(),(0,o.iD)("div",ce,[e.completed?((0,o.wg)(),(0,o.j4)(l,{key:0,goal:e,onEditGoal:n.editGoal,onRemoveGoal:n.removeGoal,onToggleGoalCompletion:n.toggleGoalCompletion},null,8,["goal","onEditGoal","onRemoveGoal","onToggleGoalCompletion"])):((0,o.wg)(),(0,o.j4)(r,{key:1,goal:e,onEditGoal:n.editGoal,onRemoveGoal:n.removeGoal,onToggleGoalCompletion:n.toggleGoalCompletion},null,8,["goal","onEditGoal","onRemoveGoal","onToggleGoalCompletion"]))]))])))),128)}const ge={class:"form-group"},ke={class:"d-flex w-100"},be=(0,o._)("label",{for:"editName",class:"mr-auto"},"Goal Name",-1),Te={type:"submit",class:"badge badge-pill mb-1"},he={class:"form-group"},ve=(0,o._)("label",{for:"editDescription"},"Goal Description",-1),we=(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Save Goal")],-1);function fe(e,t,s,i,n,l){const r=(0,o.up)("font-awesome-icon"),d=(0,o.Q2)("focus");return(0,o.wg)(),(0,o.iD)("form",{onKeyup:t[4]||(t[4]=(0,a.D2)(((...e)=>l.cancelEdit&&l.cancelEdit(...e)),["esc"])),onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>l.saveGoal&&l.saveGoal(...e)),["prevent"])),class:"p-2"},[(0,o._)("div",ge,[(0,o._)("div",ke,[be,(0,o._)("button",Te,[(0,o.Wm)(r,{icon:"floppy-disk"})]),(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>l.cancelEdit&&l.cancelEdit(...e)),class:"badge badge-pill mb-1 text-danger"},[(0,o.Wm)(r,{icon:"rectangle-xmark"})])]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.editName=e),type:"text",class:"form-control"},null,512),[[a.nr,n.editName],[d]])]),(0,o._)("div",he,[ve,(0,o.wy)((0,o._)("textarea",{onKeyup:t[2]||(t[2]=(0,a.D2)((0,a.iM)(((...e)=>l.saveGoal&&l.saveGoal(...e)),["prevent"]),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=e=>n.editDescription=e),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,n.editDescription]])]),we],32)}var Se={props:{goal:{required:!0,type:Object}},data(){return{editName:this.goal.name,editDescription:this.goal.description}},emits:["saveEditedGoal","finishEditingGoal"],methods:{saveGoal(){const e={...this.goal,name:this.editName,description:this.editDescription};this.$emit("saveEditedGoal",{editedGoal:e}),this.$emit("finishEditingGoal",{})},cancelEdit(){this.$emit("finishEditingGoal",{})}}};const _e=(0,c.Z)(Se,[["render",fe]]);var ye=_e,Ge=s(577);const Ee={class:"list-group-item-heading"},De={class:"d-flex w-100 justify-content-between align-items-center"},Ie={class:"mb-1 mr-auto p-2"},Ce={class:"flex-column text-right"},xe=(0,o._)("div",{class:"align-items-end d-flex w-100 justify-content-between"},null,-1);function $e(e,t,s,a,i,n){const l=(0,o.up)("router-link"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("AppDate");return(0,o.wg)(),(0,o.iD)("div",Ee,[(0,o._)("div",De,[(0,o._)("del",Ie,[(0,o.Wm)(l,{to:{name:"PageGoalShow",params:{goalId:s.goal.id}},class:"text-muted"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,Ge.zw)(s.goal.name),1)])),_:1},8,["to"])]),(0,o._)("div",Ce,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editGoal(s.goal.id)),class:"badge badge-pill"},[(0,o.Wm)(r,{icon:"user-pen"})]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>n.removeGoal(s.goal)),class:"badge badge-pill text-danger"},[(0,o.Wm)(r,{icon:"trash"})])]),(0,o._)("div",null,[(0,o._)("button",{onClick:t[2]||(t[2]=e=>n.toggleGoalCompletion(s.goal)),class:"badge badge-secondary badge-pill"},"Done")]),(0,o.Wm)(d,{timestamp:s.goal.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])]),xe])}var Pe={props:{goal:{required:!0,type:Object}},emits:["editGoal","removeGoal","toggleGoalCompletion"],methods:{editGoal(e){this.$emit("editGoal",{goalId:e})},removeGoal(e){this.$emit("removeGoal",{goal:e})},toggleGoalCompletion(e){this.$emit("toggleGoalCompletion",{goal:e})}}};const Ne=(0,c.Z)(Pe,[["render",$e]]);var We=Ne;const Ue={class:"list-group-item-heading"},je={class:"d-flex w-100 justify-content-between align-items-center"},Ae={class:"mb-1 mr-auto p-2"},Me={class:"flex-column text-right"},qe={class:"align-items-end d-flex w-100 justify-content-between"},Oe={class:"p-2 my-2 list-group-item-light list-group-item-secondary"};function Fe(e,t,s,a,i,n){const l=(0,o.up)("router-link"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("AppDate");return(0,o.wg)(),(0,o.iD)("div",Ue,[(0,o._)("div",je,[(0,o._)("h2",Ae,[(0,o.Wm)(l,{to:{name:"PageGoalShow",params:{goalId:s.goal.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,Ge.zw)(s.goal.name),1)])),_:1},8,["to"])]),(0,o._)("div",Me,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editGoal(s.goal.id)),class:"badge badge-pill"},[(0,o.Wm)(r,{icon:"user-pen"})]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>n.removeGoal(s.goal)),class:"badge badge-pill text-danger"},[(0,o.Wm)(r,{icon:"trash"})])]),(0,o._)("button",{onClick:t[2]||(t[2]=e=>n.toggleGoalCompletion(s.goal)),class:"badge badge-warning badge-pill"},"In Progress")])]),(0,o._)("div",qe,[(0,o._)("p",Oe,(0,Ge.zw)(s.goal.description),1),(0,o.Wm)(d,{timestamp:s.goal.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])}var Ze={props:{goal:{required:!0,type:Object}},emits:["editGoal","removeGoal","toggleGoalCompletion"],methods:{editGoal(e){this.$emit("editGoal",{goalId:e})},removeGoal(e){this.$emit("removeGoal",{goal:e})},toggleGoalCompletion(e){this.$emit("toggleGoalCompletion",{goal:e})}}};const Ve=(0,c.Z)(Ze,[["render",Fe]]);var Le=Ve,ze={components:{GoalEditor:ye,GoalCompleted:We,GoalInProgress:Le},props:{goals:{required:!0,type:Array}},data(){return{editingGoalId:null}},emits:["saveEditedGoal"],methods:{editingThisGoal(e){return this.editingGoalId===e},editGoal(e){this.editingGoalId=e.goalId},finishEditingGoal(){this.editingGoalId=null},saveEditedGoal(e){this.$emit("saveEditedGoal",e)},toggleGoalCompletion(e){const t={...e.goal,completed:!e.goal.completed};this.$emit("saveEditedGoal",{editedGoal:t})},removeGoal(e){const t={...e.goal,removed:!0};this.$emit("saveEditedGoal",{editedGoal:t})}}};const Re=(0,c.Z)(ze,[["render",pe]]);var Ke=Re;const He={class:"list-group-item"},Be=(0,o._)("h5",{class:"text-muted"},"Add a new goal",-1),Qe={class:"form-group"},Ye=(0,o._)("label",{for:"newName"},"Goal Name",-1),Je={class:"form-group"},Xe=(0,o._)("label",{for:"newDescription"},"Goal Description",-1),et=(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Add Goal")],-1);function tt(e,t,s,i,n,l){return(0,o.wg)(),(0,o.iD)("div",He,[Be,(0,o._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>l.saveGoal&&l.saveGoal(...e)),["prevent"]))},[(0,o._)("div",Qe,[Ye,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.newName=e),type:"text",class:"form-control"},null,512),[[a.nr,n.newName]])]),(0,o._)("div",Je,[Xe,(0,o.wy)((0,o._)("textarea",{onKeyup:t[1]||(t[1]=(0,a.D2)((0,a.iM)(((...e)=>l.saveGoal&&l.saveGoal(...e)),["prevent"]),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=e=>n.newDescription=e),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,n.newDescription]])]),et],32)])}var st={data(){return{newName:"",newDescription:""}},methods:{saveGoal(){const e={name:this.newName,description:this.newDescription};this.$emit("addGoal",{newGoal:e}),this.newName="",this.newDescription=""}}};const at=(0,c.Z)(st,[["render",tt]]);var ot=at,it=s(907),nt={components:{GoalList:Ke,GoalAdd:ot},computed:{...(0,it.Se)({activeGoals:"activeGoals",activeCompletedGoals:"activeCompletedGoals",activeInProgressGoals:"activeInProgressGoals"})},methods:{addGoal({newGoal:e}){this.$store.dispatch("createGoal",{name:e.name,description:e.description})},saveEditedGoal({editedGoal:e}){this.$store.dispatch("saveEditedGoal",{editedGoal:e})}},created(){this.$store.dispatch("fetchGoals")}};const lt=(0,c.Z)(nt,[["render",ue]]);var rt=lt;const dt={class:"list-group-item"},ut={key:0,class:"list-group-item-heading"},ct={class:"d-flex w-100 justify-content-between align-items-center"},mt={class:"flex-column text-right"},pt={class:"align-items-end d-flex w-100 justify-content-between"},gt={class:"p-2 my-2 list-group-item-light list-group-item-secondary"},kt={key:1},bt={class:"pt-3 container list-group"},Tt={key:0},ht=(0,o._)("h3",{class:"text-muted"},"Tasks",-1);function vt(e,t,s,a,i,n){const l=(0,o.up)("font-awesome-icon"),r=(0,o.up)("AppDate"),d=(0,o.up)("GoalEditor"),u=(0,o.up)("TaskList"),c=(0,o.up)("TaskAdd");return(0,o.wg)(),(0,o.iD)("div",dt,[i.editingGoal?((0,o.wg)(),(0,o.iD)("div",kt,[(0,o.Wm)(d,{goal:n.goal,onFinishEditingGoal:n.finishEditingGoal,onSaveEditedGoal:n.saveEditedGoal},null,8,["goal","onFinishEditingGoal","onSaveEditedGoal"])])):((0,o.wg)(),(0,o.iD)("div",ut,[(0,o._)("div",ct,[(0,o._)("h2",{class:(0,Ge.C_)(["mb-1 mr-auto p-2",{"text-muted":n.goal.completed}])},(0,Ge.zw)(n.goal.name),3),(0,o._)("div",mt,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editGoal()),class:"badge badge-pill"},[(0,o.Wm)(l,{icon:"user-pen"})]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>n.removeGoal(n.goal)),class:"badge badge-pill text-danger"},[(0,o.Wm)(l,{icon:"trash"})])]),n.goal.completed?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=e=>n.toggleGoalCompletion(n.goal))}," Done ")):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"badge badge-warning badge-pill",onClick:t[3]||(t[3]=e=>n.toggleGoalCompletion(n.goal))}," In Progress "))])]),(0,o._)("div",pt,[(0,o._)("p",gt,(0,Ge.zw)(n.goal.description),1),(0,o.Wm)(r,{timestamp:n.goal.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])),(0,o._)("div",bt,[0!=n.activeGoalTasks.length?((0,o.wg)(),(0,o.iD)("div",Tt,[ht,(0,o.Wm)(u,{tasks:n.activeInProgressGoalTasks,onSaveEditedTask:n.saveEditedTask},null,8,["tasks","onSaveEditedTask"]),(0,o.Wm)(u,{tasks:n.activeCompletedGoalTasks,onSaveEditedTask:n.saveEditedTask},null,8,["tasks","onSaveEditedTask"])])):(0,o.kq)("",!0),(0,o.Wm)(c,{onAddTask:n.addTask},null,8,["onAddTask"])])])}const wt={class:"pl-3"},ft={key:0},St={key:1};function _t(e,t,s,a,i,n){const l=(0,o.up)("TaskCompleted"),r=(0,o.up)("TaskInProgress"),d=(0,o.up)("TaskEditor");return(0,o.wg)(),(0,o.iD)("div",wt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.tasks,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"list-group-item"},[n.editingThisTask(e.id)?((0,o.wg)(),(0,o.iD)("div",St,[(0,o.Wm)(d,{task:e,onFinishEditingTask:n.finishEditingTask,onSaveEditedTask:n.saveEditedTask},null,8,["task","onFinishEditingTask","onSaveEditedTask"])])):((0,o.wg)(),(0,o.iD)("div",ft,[e.completed?((0,o.wg)(),(0,o.j4)(l,{key:0,task:e,onEditTask:n.editTask,onRemoveTask:n.removeTask,onToggleTaskCompletion:n.toggleTaskCompletion},null,8,["task","onEditTask","onRemoveTask","onToggleTaskCompletion"])):((0,o.wg)(),(0,o.j4)(r,{key:1,task:e,onEditTask:n.editTask,onRemoveTask:n.removeTask,onToggleTaskCompletion:n.toggleTaskCompletion},null,8,["task","onEditTask","onRemoveTask","onToggleTaskCompletion"]))]))])))),128))])}const yt={class:"form-group"},Gt={class:"d-flex w-100"},Et=(0,o._)("label",{for:"editName",class:"mr-auto"},"Task Name",-1),Dt={type:"submit",class:"badge badge-pill mb-1"},It={class:"form-group"},Ct=(0,o._)("label",{for:"editDescription"},"Task Description",-1),xt=(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Save Task")],-1);function $t(e,t,s,i,n,l){const r=(0,o.up)("font-awesome-icon"),d=(0,o.Q2)("focus");return(0,o.wg)(),(0,o.iD)("form",{onKeyup:t[4]||(t[4]=(0,a.D2)(((...e)=>l.cancelEdit&&l.cancelEdit(...e)),["esc"])),onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>l.saveTask&&l.saveTask(...e)),["prevent"])),class:"p-2"},[(0,o._)("div",yt,[(0,o._)("div",Gt,[Et,(0,o._)("button",Dt,[(0,o.Wm)(r,{icon:"floppy-disk"})]),(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>l.cancelEdit&&l.cancelEdit(...e)),class:"badge badge-pill mb-1 text-danger"},[(0,o.Wm)(r,{icon:"rectangle-xmark"})])]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.editName=e),type:"text",class:"form-control"},null,512),[[a.nr,n.editName],[d]])]),(0,o._)("div",It,[Ct,(0,o.wy)((0,o._)("textarea",{onKeyup:t[2]||(t[2]=(0,a.D2)((0,a.iM)(((...e)=>l.saveTask&&l.saveTask(...e)),["prevent"]),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=e=>n.editDescription=e),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,n.editDescription]])]),xt],32)}var Pt={props:{task:{required:!0,type:Object}},data(){return{editName:this.task.name,editDescription:this.task.description}},emits:["saveEditedTask","finishEditingTask"],methods:{saveTask(){const e={...this.task,name:this.editName,description:this.editDescription};this.$emit("saveEditedTask",{editedTask:e}),this.$emit("finishEditingTask",{})},cancelEdit(){this.$emit("finishEditingTask",{})}}};const Nt=(0,c.Z)(Pt,[["render",$t]]);var Wt=Nt;const Ut={class:"list-group-item-heading"},jt={class:"d-flex w-100 justify-content-between align-items-center"},At={class:"mb-1 mr-auto p-2"},Mt={class:"flex-column text-right"};function qt(e,t,s,a,i,n){const l=(0,o.up)("router-link"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("AppDate");return(0,o.wg)(),(0,o.iD)("div",Ut,[(0,o._)("div",jt,[(0,o._)("del",At,[(0,o.Wm)(l,{to:{name:"PageTaskShow",params:{goalId:s.task.goal,taskId:s.task.id}},class:"text-muted"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,Ge.zw)(s.task.name),1)])),_:1},8,["to"])]),(0,o._)("div",Mt,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editTask(s.task.id)),class:"badge badge-pill"},[(0,o.Wm)(r,{icon:"user-pen"})]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>n.removeTask(s.task)),class:"badge badge-pill text-danger"},[(0,o.Wm)(r,{icon:"trash"})])]),(0,o._)("div",null,[(0,o._)("button",{class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=e=>n.toggleTaskCompletion(s.task))}," Done ")]),(0,o.Wm)(d,{timestamp:s.task.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])])}var Ot={props:{task:{required:!0,type:Object}},emits:["editTask","removeTask","toggleTaskCompletion"],methods:{editTask(e){this.$emit("editTask",{taskId:e})},removeTask(e){this.$emit("removeTask",{task:e})},toggleTaskCompletion(e){this.$emit("toggleTaskCompletion",{task:e})}}};const Ft=(0,c.Z)(Ot,[["render",qt]]);var Zt=Ft;const Vt={class:"list-group-item-heading"},Lt={class:"d-flex w-100 justify-content-between align-items-center"},zt={class:"mb-1 mr-auto p-2"},Rt={class:"flex-column text-right"},Kt={class:"align-items-end d-flex w-100100 justify-content-between"},Ht={class:"p-2 my-2 list-group-item-light list-group-item-secondary"};function Bt(e,t,s,a,i,n){const l=(0,o.up)("router-link"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("AppDate");return(0,o.wg)(),(0,o.iD)("div",Vt,[(0,o._)("div",Lt,[(0,o._)("h4",zt,[(0,o.Wm)(l,{to:{name:"PageTaskShow",params:{goalId:s.task.goal,taskId:s.task.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,Ge.zw)(s.task.name),1)])),_:1},8,["to"])]),(0,o._)("div",Rt,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editTask(s.task.id)),class:"badge badge-pill"},[(0,o.Wm)(r,{icon:"user-pen"})]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>n.removeTask(s.task)),class:"badge badge-pill text-danger"},[(0,o.Wm)(r,{icon:"trash"})])]),(0,o._)("button",{class:"badge badge-warning badge-pill",onClick:t[2]||(t[2]=e=>n.toggleTaskCompletion(s.task))}," In Progress ")])]),(0,o._)("div",Kt,[(0,o._)("p",Ht,(0,Ge.zw)(s.task.description),1),(0,o.Wm)(d,{timestamp:s.task.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])}var Qt={props:{task:{required:!0,type:Object}},emits:["editTask","removeTask","toggleTaskCompletion"],methods:{editTask(e){this.$emit("editTask",{taskId:e})},removeTask(e){this.$emit("removeTask",{task:e})},toggleTaskCompletion(e){this.$emit("toggleTaskCompletion",{task:e})}}};const Yt=(0,c.Z)(Qt,[["render",Bt]]);var Jt=Yt,Xt={components:{TaskEditor:Wt,TaskCompleted:Zt,TaskInProgress:Jt},props:{tasks:{requred:!0,type:Array}},data(){return{editingTaskId:null}},emits:["saveEditedTask","updateTaskCompletion","updateTaskRemoval"],methods:{editingThisTask(e){return this.editingTaskId===e},editTask(e){this.editingTaskId=e.taskId},finishEditingTask(){this.editingTaskId=null},saveEditedTask(e){this.$emit("saveEditedTask",e)},toggleTaskCompletion({task:e}){const t={...e,completed:!e.completed};this.$emit("saveEditedTask",{editedTask:t})},removeTask({task:e}){const t={...e,removed:!0};this.$emit("saveEditedTask",{editedTask:t})}}};const es=(0,c.Z)(Xt,[["render",_t]]);var ts=es;const ss={class:"pl-3"},as={class:"list-group-item"},os=(0,o._)("h5",{class:"p-2 text-muted"},"Add a new task",-1),is={class:"form-group"},ns=(0,o._)("label",{for:"newName"},"Task Name",-1),ls={class:"form-group"},rs=(0,o._)("label",{for:"newDescription"},"Task Description",-1),ds=(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Add Task",-1);function us(e,t,s,i,n,l){return(0,o.wg)(),(0,o.iD)("div",ss,[(0,o._)("div",as,[os,(0,o._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>l.saveTask&&l.saveTask(...e)),["prevent"])),class:"p-2"},[(0,o._)("div",is,[ns,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.newName=e),type:"text",class:"form-control"},null,512),[[a.nr,n.newName]])]),(0,o._)("div",ls,[rs,(0,o.wy)((0,o._)("textarea",{onKeyup:t[1]||(t[1]=(0,a.D2)((0,a.iM)(((...e)=>l.saveTask&&l.saveTask(...e)),["prevent"]),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=e=>n.newDescription=e),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,n.newDescription]])]),ds],32)])])}var cs={data(){return{newName:"",newDescription:""}},methods:{saveTask(){const e={name:this.newName,description:this.newDescription};this.$emit("addTask",{newTask:e}),this.newName="",this.newDescription=""}}};const ms=(0,c.Z)(cs,[["render",us]]);var ps=ms,gs={components:{TaskList:ts,TaskAdd:ps,GoalEditor:ye},data(){return{editingGoal:!1}},props:{goalId:{required:!0,type:String}},computed:{goal(){return this.$store.getters.goal(this.goalId)},goalTasks(){return this.$store.getters.goalTasks},activeGoalTasks(){return this.$store.getters.activeGoalTasks(this.goalTasks)},activeCompletedGoalTasks(){return this.$store.getters.activeCompletedGoalTasks(this.activeGoalTasks)},activeInProgressGoalTasks(){return this.$store.getters.activeInProgressGoalTasks(this.activeGoalTasks)}},methods:{editGoal(){return this.editingGoal=!0},finishEditingGoal(){return this.editingGoal=!1},saveEditedGoal({editedGoal:e}){this.$store.dispatch("saveEditedGoal",{editedGoal:e})},toggleGoalCompletion(e){this.$store.dispatch("saveEditedGoal",{editedGoal:{...e,completed:!this.goal.completed}})},async removeGoal(e){const t=await this.$store.dispatch("saveEditedGoal",{editedGoal:{...e,removed:!0}});t&&this.$router.push({name:"PageHome"})},addTask({newTask:e}){this.$store.dispatch("createTask",{newTask:{...e,goal:parseInt(this.goalId)}})},saveEditedTask({editedTask:e}){this.$store.dispatch("saveEditedTask",{editedTask:{...e}})}},created(){this.$store.dispatch("fetchGoalTasks",{goalId:this.goalId})}};const ks=(0,c.Z)(gs,[["render",vt]]);var bs=ks;const Ts={class:"list-group-item"},hs={key:0,class:"list-group-item-heading"},vs={class:"d-flex w-100 justify-content-between align-items-center"},ws={class:"flex-column text-right"},fs={class:"align-items-end d-flex w-100 justify-content-between"},Ss={class:"p-2 my-2 list-group-item-light list-group-item-secondary"},_s={key:1},ys={class:"pt-3 container list-group"},Gs={key:0},Es=(0,o._)("h4",{class:"text-muted p-2"},"Sub-tasks",-1);function Ds(e,t,s,a,i,n){const l=(0,o.up)("font-awesome-icon"),r=(0,o.up)("AppDate"),d=(0,o.up)("TaskEditor"),u=(0,o.up)("SubTaskList"),c=(0,o.up)("SubTaskAdd");return(0,o.wg)(),(0,o.iD)("div",Ts,[i.editingTask?((0,o.wg)(),(0,o.iD)("div",_s,[(0,o.Wm)(d,{task:n.task,onFinishEditingTask:n.finishEditingTask,onSaveEditedTask:n.saveEditedTask},null,8,["task","onFinishEditingTask","onSaveEditedTask"])])):((0,o.wg)(),(0,o.iD)("div",hs,[(0,o._)("div",vs,[(0,o._)("h2",{class:(0,Ge.C_)(["mb-1 mr-auto p-2",{"text-muted":n.task.completed}])},(0,Ge.zw)(n.task.name),3),(0,o._)("div",ws,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editTask()),class:"badge badge-pill"},[(0,o.Wm)(l,{icon:"user-pen"})]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>n.removeTask(n.task)),class:"badge badge-pill text-danger"},[(0,o.Wm)(l,{icon:"trash"})])]),n.task.completed?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=e=>n.toggleTaskCompletion(n.task))}," Done ")):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"badge badge-warning badge-pill",onClick:t[3]||(t[3]=e=>n.toggleTaskCompletion(n.task))}," In Progress "))])]),(0,o._)("div",fs,[(0,o._)("p",Ss,(0,Ge.zw)(n.task.description),1),(0,o.Wm)(r,{timestamp:n.task.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])),(0,o._)("div",ys,[0!=n.activeTaskSubTasks.length?((0,o.wg)(),(0,o.iD)("div",Gs,[Es,(0,o.Wm)(u,{subTasks:n.activeInProgressTaskSubTasks,onSaveEditedSubTask:n.saveEditedSubTask},null,8,["subTasks","onSaveEditedSubTask"]),(0,o.Wm)(u,{subTasks:n.activeCompletedTaskSubTasks,onSaveEditedSubTask:n.saveEditedSubTask},null,8,["subTasks","onSaveEditedSubTask"])])):(0,o.kq)("",!0),(0,o.Wm)(c,{onAddSubTask:n.addSubTask},null,8,["onAddSubTask"])])])}const Is={class:"pl-3"},Cs={key:0},xs={key:1};function $s(e,t,s,a,i,n){const l=(0,o.up)("SubTaskCompleted"),r=(0,o.up)("SubTaskInProgress"),d=(0,o.up)("SubTaskEditor");return(0,o.wg)(),(0,o.iD)("div",Is,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.subTasks,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"list-group-item"},[n.editingThisSubTask(e.id)?((0,o.wg)(),(0,o.iD)("div",xs,[(0,o.Wm)(d,{subTask:e,onFinishEditingSubTask:n.finishEditingSubTask,onSaveEditedSubTask:n.saveEditedSubTask},null,8,["subTask","onFinishEditingSubTask","onSaveEditedSubTask"])])):((0,o.wg)(),(0,o.iD)("div",Cs,[e.completed?((0,o.wg)(),(0,o.j4)(l,{key:0,subTask:e,onEditSubTask:n.editSubTask,onRemoveSubTask:n.removeSubTask,onToggleSubTaskCompletion:n.toggleSubTaskCompletion},null,8,["subTask","onEditSubTask","onRemoveSubTask","onToggleSubTaskCompletion"])):((0,o.wg)(),(0,o.j4)(r,{key:1,subTask:e,onEditSubTask:n.editSubTask,onRemoveSubTask:n.removeSubTask,onToggleSubTaskCompletion:n.toggleSubTaskCompletion},null,8,["subTask","onEditSubTask","onRemoveSubTask","onToggleSubTaskCompletion"]))]))])))),128))])}const Ps={class:"form-group"},Ns={class:"d-flex w-100"},Ws=(0,o._)("label",{for:"editName",class:"mr-auto"},"Sub-Task Name",-1),Us={type:"submit",class:"badge badge-pill mb-1"},js={class:"form-group"},As=(0,o._)("label",{for:"editDescription"},"Sub-Task Description",-1),Ms=(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Save Sub-Task")],-1);function qs(e,t,s,i,n,l){const r=(0,o.up)("font-awesome-icon"),d=(0,o.Q2)("focus");return(0,o.wg)(),(0,o.iD)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...e)=>l.saveSubTask&&l.saveSubTask(...e)),["prevent"])),onKeyup:t[5]||(t[5]=(0,a.D2)(((...e)=>l.cancelEdit&&l.cancelEdit(...e)),["esc"])),class:"p-2"},[(0,o._)("div",Ps,[(0,o._)("div",Ns,[Ws,(0,o._)("button",Us,[(0,o.Wm)(r,{icon:"floppy-disk"})]),(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>l.cancelEdit&&l.cancelEdit(...e)),class:"badge badge-pill mb-1 text-danger"},[(0,o.Wm)(r,{icon:"rectangle-xmark"})])]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.editName=e),type:"text",class:"form-control"},null,512),[[a.nr,n.editName],[d]])]),(0,o._)("div",js,[As,(0,o.wy)((0,o._)("textarea",{onKeyup:t[2]||(t[2]=(0,a.D2)((0,a.iM)(((...e)=>l.saveSubTask&&l.saveSubTask(...e)),["prevent"]),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=e=>n.editDescription=e),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,n.editDescription]])]),Ms],32)}var Os={props:{subTask:{required:!0,type:Object}},data(){return{editName:this.subTask.name,editDescription:this.subTask.description}},emits:["saveEditedSubTask","finishEditingSubTask"],methods:{saveSubTask(){const e={...this.subTask,name:this.editName,description:this.editDescription};this.$emit("saveEditedSubTask",{editedSubTask:e}),this.$emit("finishEditingSubTask",{})},cancelEdit(){this.$emit("finishEditingSubTask",{})}}};const Fs=(0,c.Z)(Os,[["render",qs]]);var Zs=Fs;const Vs={class:"list-group-item-heading"},Ls={class:"d-flex w-100 justify-content-between align-items-center"},zs={class:"mb-1 mr-auto p-2"},Rs={class:"flex-column text-right"},Ks={class:"badge badge-pill text-danger"};function Hs(e,t,s,a,i,n){const l=(0,o.up)("router-link"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("AppDate");return(0,o.wg)(),(0,o.iD)("div",Vs,[(0,o._)("div",Ls,[(0,o._)("del",zs,[(0,o.Wm)(l,{to:{name:"PageSubTaskShow",params:{goalId:s.subTask.goal,taskId:s.subTask.task,subTaskId:s.subTask.id}},class:"text-muted"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,Ge.zw)(s.subTask.name),1)])),_:1},8,["to"])]),(0,o._)("div",Rs,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editSubTask(s.subTask.id)),class:"badge badge-pill"},[(0,o.Wm)(r,{icon:"user-pen"})]),(0,o._)("button",Ks,[(0,o.Wm)(r,{onClick:t[1]||(t[1]=e=>n.removeSubTask(s.subTask)),icon:"trash"})])]),(0,o._)("div",null,[(0,o._)("button",{class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=e=>n.toggleSubTaskCompletion(s.subTask))}," Done ")]),(0,o.Wm)(d,{timestamp:s.subTask.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])])}var Bs={props:{subTask:{required:!0,type:Object}},emits:["editSubTask","removeSubTask","toggleSubTaskCompletion"],methods:{editSubTask(e){this.$emit("editSubTask",{subTaskId:e})},removeSubTask(e){this.$emit("removeSubTask",{subTask:e})},toggleSubTaskCompletion(e){this.$emit("toggleSubTaskCompletion",{subTask:e})}}};const Qs=(0,c.Z)(Bs,[["render",Hs]]);var Ys=Qs;const Js={class:"list-group-item-heading"},Xs={class:"d-flex w-100 justify-content-between align-items-center"},ea={class:"mb-1 mr-auto p-2"},ta={class:"flex-column text-right"},sa={class:"badge badge-pill text-danger"},aa={class:"align-items-end d-flex w-100 justify-content-between"},oa={class:"my-2 list-group-item-light list-group-item-secondary p-2"};function ia(e,t,s,a,i,n){const l=(0,o.up)("router-link"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("AppDate");return(0,o.wg)(),(0,o.iD)("div",Js,[(0,o._)("div",Xs,[(0,o._)("h5",ea,[(0,o.Wm)(l,{to:{name:"PageSubTaskShow",params:{goalId:s.subTask.goal,taskId:s.subTask.task,subTaskId:s.subTask.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,Ge.zw)(s.subTask.name),1)])),_:1},8,["to"])]),(0,o._)("div",ta,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editSubTask(s.subTask.id)),class:"badge badge-pill"},[(0,o.Wm)(r,{icon:"user-pen"})]),(0,o._)("button",sa,[(0,o.Wm)(r,{onClick:t[1]||(t[1]=e=>n.removeSubTask(s.subTask)),icon:"trash"})])]),(0,o._)("button",{class:"badge badge-warning badge-pill",onClick:t[2]||(t[2]=e=>n.toggleSubTaskCompletion(s.subTask))}," In Progress ")])]),(0,o._)("div",aa,[(0,o._)("p",oa,(0,Ge.zw)(s.subTask.description),1),(0,o.Wm)(d,{timestamp:s.subTask.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])])}var na={props:{subTask:{required:!0,type:Object}},emits:["editSubTask","removeSubTask","toggleSubTaskCompletion"],methods:{editSubTask(e){this.$emit("editSubTask",{subTaskId:e})},removeSubTask(e){this.$emit("removeSubTask",{subTask:e})},toggleSubTaskCompletion(e){this.$emit("toggleSubTaskCompletion",{subTask:e})}}};const la=(0,c.Z)(na,[["render",ia]]);var ra=la,da={components:{SubTaskEditor:Zs,SubTaskCompleted:Ys,SubTaskInProgress:ra},props:{subTasks:{requred:!0,type:Array}},data(){return{editingSubTaskId:null}},emits:["saveEditedSubTask"],methods:{editingThisSubTask(e){return this.editingSubTaskId===e},editSubTask(e){this.editingSubTaskId=e.subTaskId},finishEditingSubTask(){this.editingSubTaskId=null},saveEditedSubTask(e){this.$emit("saveEditedSubTask",e)},toggleSubTaskCompletion({subTask:e}){const t={...e,completed:!e.completed};this.$emit("saveEditedSubTask",{editedSubTask:t})},removeSubTask({subTask:e}){const t={...e,removed:!0};this.$emit("saveEditedSubTask",{editedSubTask:t})}}};const ua=(0,c.Z)(da,[["render",$s]]);var ca=ua;const ma={class:"pl-3"},pa={class:"list-group-item"},ga=(0,o._)("h5",{class:"text-muted p-2"},"Add a new sub-task",-1),ka={class:"form-group"},ba=(0,o._)("label",{for:"newName"},"Sub-task Name",-1),Ta={class:"form-group"},ha=(0,o._)("label",{for:"newDescription"},"Sub-task Description",-1),va=(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Add sub-task",-1);function wa(e,t,s,i,n,l){return(0,o.wg)(),(0,o.iD)("div",ma,[(0,o._)("div",pa,[ga,(0,o._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>l.saveSubTask&&l.saveSubTask(...e)),["prevent"])),class:"p-2"},[(0,o._)("div",ka,[ba,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.newName=e),type:"text",class:"form-control"},null,512),[[a.nr,n.newName]])]),(0,o._)("div",Ta,[ha,(0,o.wy)((0,o._)("textarea",{onKeyup:t[1]||(t[1]=(0,a.D2)((0,a.iM)(((...e)=>l.saveSubTask&&l.saveSubTask(...e)),["prevent"]),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=e=>n.newDescription=e),cols:"30",rows:"5",class:"form-control"},null,544),[[a.nr,n.newDescription]])]),va],32)])])}var fa={data(){return{newName:"",newDescription:""}},methods:{saveSubTask(){const e={name:this.newName,description:this.newDescription};this.$emit("addSubTask",{newSubTask:e}),this.newName="",this.newDescription=""}}};const Sa=(0,c.Z)(fa,[["render",wa]]);var _a=Sa,ya={components:{SubTaskList:ca,SubTaskAdd:_a,TaskEditor:Wt},data(){return{editingTask:!1}},props:{taskId:{required:!0,type:String},goalId:{required:!0,type:String}},computed:{task(){return this.$store.getters.task(this.taskId)},taskSubTasks(){return this.$store.getters.taskSubTasks(this.taskId)},activeTaskSubTasks(){return this.$store.getters.activeTaskSubTasks(this.taskSubTasks)},activeCompletedTaskSubTasks(){return this.$store.getters.activeCompletedTaskSubTasks(this.activeTaskSubTasks)},activeInProgressTaskSubTasks(){return this.$store.getters.activeInProgressTaskSubTasks(this.activeTaskSubTasks)}},methods:{editTask(){return this.editingTask=!0},finishEditingTask(){return this.editingTask=!1},saveEditedTask({editedTask:e}){this.$store.dispatch("saveEditedTask",{editedTask:{...e}})},async removeTask(e){const t=await this.$store.dispatch("saveEditedTask",{editedTask:{...e,removed:!0}});t&&this.$router.push({name:"PageGoalShow",params:{goalId:this.goalId}})},toggleTaskCompletion(e){this.$store.dispatch("saveEditedTask",{editedTask:{...e,completed:!e.completed}})},addSubTask({newSubTask:e}){this.$store.dispatch("createSubTask",{newSubTask:{...e,goal:parseInt(this.goalId),task:parseInt(this.taskId)}})},saveEditedSubTask({editedSubTask:e}){this.$store.dispatch("saveEditedSubTask",{editedSubTask:{...e}})}},created(){this.$store.dispatch("fetchTaskSubTasks",{goalId:this.goalId,taskId:this.taskId})}};const Ga=(0,c.Z)(ya,[["render",Ds]]);var Ea=Ga;const Da={class:"list-group-item"},Ia={key:0,class:"list-group-item-heading"},Ca={class:"d-flex w-100 justify-content-between align-items-center"},xa={class:"flex-column text-right"},$a={class:"align-items-end d-flex w-100 justify-content-between"},Pa={class:"my-2 list-group-item-light list-group-item-secondary p-2"},Na={key:1};function Wa(e,t,s,a,i,n){const l=(0,o.up)("font-awesome-icon"),r=(0,o.up)("AppDate"),d=(0,o.up)("SubTaskEditor");return(0,o.wg)(),(0,o.iD)("div",Da,[i.editingSubTask?((0,o.wg)(),(0,o.iD)("div",Na,[(0,o.Wm)(d,{subTask:n.subTask,onFinishEditingSubTask:n.finishEditingSubTask,onSaveEditedSubTask:n.saveEditedSubTask},null,8,["subTask","onFinishEditingSubTask","onSaveEditedSubTask"])])):((0,o.wg)(),(0,o.iD)("div",Ia,[(0,o._)("div",Ca,[(0,o._)("h4",{class:(0,Ge.C_)(["mb-1 mr-auto p-2",{"text-muted":n.subTask.completed}])},(0,Ge.zw)(n.subTask.name),3),(0,o._)("div",xa,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>n.editSubTask()),class:"badge badge-pill"},[(0,o.Wm)(l,{icon:"user-pen"})]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>n.removeSubTask(n.subTask)),class:"badge badge-pill text-danger"},[(0,o.Wm)(l,{icon:"trash"})])]),n.subTask.completed?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"badge badge-secondary badge-pill",onClick:t[2]||(t[2]=e=>n.toggleSubTaskCompletion(n.subTask))}," Done ")):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"badge badge-warning badge-pill",onClick:t[3]||(t[3]=e=>n.toggleSubTaskCompletion(n.subTask))}," In Progress "))])]),(0,o._)("div",$a,[(0,o._)("p",Pa,(0,Ge.zw)(n.subTask.description),1),(0,o.Wm)(r,{timestamp:n.subTask.updated,class:"badge badge-light badge-pill pull-right"},null,8,["timestamp"])])]))])}var Ua={components:{SubTaskEditor:Zs},data(){return{editingSubTask:!1}},props:{subTaskId:{required:!0,type:String},taskId:{required:!0,type:String},goalId:{required:!0,type:String}},computed:{subTask(){return this.$store.getters.subTask(this.subTaskId)}},methods:{editSubTask(){return this.editingSubTask=!0},finishEditingSubTask(){return this.editingSubTask=!1},saveEditedSubTask({editedSubTask:e}){this.$store.dispatch("saveEditedSubTask",{editedSubTask:{...e}})},toggleSubTaskCompletion(e){this.$store.dispatch("saveEditedSubTask",{editedSubTask:{...e,completed:!e.completed}})},async removeSubTask(e){const t=await this.$store.dispatch("saveEditedSubTask",{editedSubTask:{...e,removed:!0}});t&&this.$router.push({name:"PageTaskShow",params:{goalId:this.goalId,taskId:this.taskId}})}}};const ja=(0,c.Z)(Ua,[["render",Wa]]);var Aa=ja;const Ma={class:"text-center"},qa=(0,o.Uk)("Home");function Oa(e,t,s,a,i,n){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",Ma,[(0,o._)("h1",null,"The "+(0,Ge.zw)(s.resource||"page")+" you're looking for doesn't exist",1),(0,o._)("h1",null,[(0,o.Wm)(l,{to:{name:"PageHome"}},{default:(0,o.w5)((()=>[qa])),_:1})])])}var Fa={props:{resource:{required:!1,type:String}}};const Za=(0,c.Z)(Fa,[["render",Oa]]);var Va=Za,La=s(119);const za=(e,t)=>e.find((e=>e.id===parseInt(t))),Ra=(e,t,s)=>e.filter((e=>e[t]===parseInt(s))),Ka=e=>e.filter((e=>!1===e.removed)),Ha=e=>e.filter((e=>!0===e.completed)),Ba=e=>e.filter((e=>!1===e.completed)),Qa=({resource:e})=>(t,{item:s})=>{t[e][t[e].findIndex((e=>e.id===s.id))]=s},Ya=({resource:e="",ids:t=[]})=>{let s={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL;const a=["/goals/","/tasks/","/subtasks/"];return s+=t.map(((e,t)=>a[t]+e)).join(""),e?s+"/"+e+"/":s+"/"},Ja=e=>({headers:{Authorization:"Token "+e}});var Xa=s(669),eo=s.n(Xa);const to={state(){return{token:null}},actions:{async login({commit:e},{username:t,password:s}){return await eo().post(Ya({resource:"login"}),{username:t,password:s}).then((t=>(e("setToken",t.data.token),e("setTokenState",t.data.token),!0))).catch((e=>(console.log(e),!1)))},async signUp(e,t){return await eo().post(Ya({resource:"signup"}),{...t}).then((()=>!0)).catch((()=>!1))},async logOut({commit:e},t){return await eo().post(Ya({resource:"logout"}),{token:t}).then((()=>(e("removeToken"),!0))).catch((()=>!1))},async refreshTokenState({commit:e},t){return await eo().post(Ya({resource:"token"}),{token:t}).then((t=>(e("setTokenState",t.data.token),t.data.token))).catch((()=>(e("removeToken",t),!1)))}},mutations:{setToken(e,t){localStorage.setItem("token",t)},setTokenState(e,t){e.token=t},removeToken(e){localStorage.removeItem("token"),e.token=""}}};var so=to;const ao={state(){return{goals:[]}},getters:{goal(e){return t=>za(e.goals,t)},activeGoals(e){return Ka(e.goals)},activeCompletedGoals(e,t){return Ha(t.activeGoals)},activeInProgressGoals(e,t){return Ba(t.activeGoals)}},actions:{async fetchGoals({commit:e,rootState:t}){return await eo().get(Ya({resource:"goals"}),Ja(t.userModule.token)).then((t=>{e("setGoals",t.data)})).catch((e=>{console.log(e)}))},async fetchGoal({dispatch:e,rootState:t},{goalId:s}){return await eo().get(Ya({ids:[s]}),Ja(t.userModule.token)).then((t=>(e("upsertGoal",t.data),t.data))).catch((e=>(console.log(e),null)))},async createGoal({commit:e,rootState:t},{name:s,description:a}){return await eo().post(Ya({resource:"goals"}),{name:s,description:a,completed:!1,removed:!1},Ja(t.userModule.token)).then((t=>(e("pushGoal",t.data),t.data))).catch((e=>{console.log(e)}))},async saveEditedGoal({commit:e,rootState:t},{editedGoal:s}){return await eo().put(Ya({ids:[s.id]}),{...s},Ja(t.userModule.token)).then((t=>(e("updateGoal",{item:t.data}),!0))).catch((e=>(console.log(e),!1)))},upsertGoal({state:e,commit:t},s){za(e.goals,s)?t("updateGoal",{item:s}):t("pushGoal",s)}},mutations:{setGoals(e,t){e.goals=t},pushGoal(e,t){e.goals.push(t)},updateGoal:Qa({resource:"goals"})}};var oo=ao;const io={state(){return{tasks:[]}},getters:{task(e){return t=>za(e.tasks,t)},goalTasks(e){return e.tasks},activeGoalTasks(){return e=>Ka(e)},activeCompletedGoalTasks(){return e=>Ha(e)},activeInProgressGoalTasks(){return e=>Ba(e)}},actions:{async fetchTask({dispatch:e,rootState:t},{goalId:s,taskId:a}){return await eo().get(Ya({ids:[s,a]}),Ja(t.userModule.token)).then((t=>(e("upsertTask",t.data),!0))).catch((e=>(console.log(e),!1)))},async fetchGoalTasks({commit:e,rootState:t},{goalId:s}){return await eo().get(Ya({resource:"tasks",ids:[s]}),Ja(t.userModule.token)).then((t=>{e("setTasks",t.data)})).catch((e=>{console.log(e)}))},async createTask({commit:e,rootState:t},{newTask:s}){return await eo().post(Ya({resource:"tasks",ids:[s.goal]}),{...s,completed:!1,removed:!1},Ja(t.userModule.token)).then((t=>(e("pushTask",t.data),t.data))).catch((e=>{console.log(e)}))},async saveEditedTask({commit:e,rootState:t},{editedTask:s}){return await eo().put(Ya({ids:[s.goal,s.id]}),{...s},Ja(t.userModule.token)).then((t=>(e("updateTask",{item:t.data}),!0))).catch((e=>(console.log(e),!1)))},upsertTask({state:e,commit:t},s){za(e.tasks,s)?t("updateTask",{item:s}):t("pushTask",s)}},mutations:{setTasks(e,t){e.tasks=t},pushTask(e,t){e.tasks.push(t)},updateTask:Qa({resource:"tasks"})}};var no=io;const lo={state(){return{subTasks:[]}},getters:{subTask(e){return t=>za(e.subTasks,t)},taskSubTasks(e){return t=>Ra(e.subTasks,"task",t)},activeTaskSubTasks(){return e=>Ka(e)},activeCompletedTaskSubTasks(){return e=>Ha(e)},activeInProgressTaskSubTasks(){return e=>Ba(e)}},actions:{async fetchSubTask({dispatch:e,rootState:t},{goalId:s,taskId:a,subTaskId:o}){return await eo().get(Ya({ids:[s,a,o]}),Ja(t.userModule.token)).then((t=>(e("upsertSubTask",t.data),!0))).catch((e=>(console.log(e),!1)))},async fetchTaskSubTasks({commit:e,rootState:t},{goalId:s,taskId:a}){return await eo().get(Ya({resource:"subtasks",ids:[s,a]}),Ja(t.userModule.token)).then((t=>(e("setSubTasks",t.data),!0))).catch((e=>(console.log(e),!1)))},async createSubTask({commit:e,rootState:t},{newSubTask:s}){return await eo().post(Ya({resource:"subtasks",ids:[s.goal,s.task]}),{...s,completed:!1,removed:!1},Ja(t.userModule.token)).then((t=>(e("pushSubTask",t.data),!0))).catch((e=>{console.log(e)}))},async saveEditedSubTask({commit:e,rootState:t},{editedSubTask:s}){return await eo().put(Ya({ids:[s.goal,s.task,s.id]}),{...s},Ja(t.userModule.token)).then((t=>(e("updateSubTask",{item:t.data}),!0))).catch((e=>(console.log(e),!1)))},upsertSubTask({state:e,commit:t},s){za(e.subTasks,s.id)?t("updateSubTask",{item:s}):t("pushSubTask",s)}},mutations:{setSubTasks(e,t){e.subTasks=t},pushSubTask(e,t){e.subTasks.push(t)},updateSubTask:Qa({resource:"subTasks"})}};var ro=lo;const uo=(0,it.MT)({state:{},modules:{userModule:so,goalModule:oo,taskModule:no,subTaskModule:ro}});var co=uo;const mo=[{path:"/login",name:"PageLogin",component:ie,props:!0,meta:{noAuthOnly:!0}},{path:"/signup",name:"PageSignUp",component:O,meta:{noAuthOnly:!0}},{path:"/",name:"PageHome",component:rt,meta:{requiresAuth:!0}},{path:"/goal/:goalId",name:"PageGoalShow",component:bs,props:!0,meta:{requiresAuth:!0},async beforeEnter(e,t,s){const a=await co.dispatch("fetchGoal",{goalId:e.params.goalId,token:co.state.token});a?s():s({name:"PageNotFound",params:{resource:"goal",pathMatch:e.path.substring(1).split("/")},query:e.query,hash:e.hash})}},{path:"/goal/:goalId/task/:taskId",name:"PageTaskShow",component:Ea,props:!0,meta:{requiresAuth:!0},async beforeEnter(e,t,s){const a=await co.dispatch("fetchTask",{goalId:e.params.goalId,taskId:e.params.taskId,token:co.state.token});a?s():s({name:"PageNotFound",params:{resource:"task",pathMatch:e.path.substring(1).split("/")},query:e.query,hash:e.hash})}},{path:"/goal/:goalId/task/:taskId/subtask/:subTaskId",name:"PageSubTaskShow",component:Aa,props:!0,meta:{requiresAuth:!0},async beforeEnter(e,t,s){const a=await co.dispatch("fetchSubTask",{goalId:e.params.goalId,taskId:e.params.taskId,subTaskId:e.params.subTaskId,token:co.state.token});a?s():s({name:"PageNotFound",params:{resource:"sub-task",pathMatch:e.path.substring(1).split("/")},query:e.query,hash:e.hash})}},{path:"/:pathMatch(.*)*",name:"PageNotFound",component:Va,props:!0}],po=(0,La.p7)({history:(0,La.PO)(),routes:mo});po.beforeEach((e=>e.meta.requiresAuth?co.dispatch("refreshTokenState",localStorage.getItem("token")).then((e=>{if(!e)return{name:"PageLogin"}})):e.meta.noAuthOnly?co.dispatch("refreshTokenState",localStorage.getItem("token")).then((e=>{if(e)return{name:"PageHome"}})):void 0));var go=po,ko=s(947),bo=s(436),To=s(810);ko.vI.add(bo.EdJ,bo.iDc,bo.$aW,bo.QQm);const ho=(0,a.ri)(b),vo=s(323);ho.use(go),vo.keys().forEach((e=>{let t=vo(e);t=t.default||t;const s=t.name||e.replace(/^.+\//,"").replace(/\.\w+$/,"");ho.component(s,t)})),ho.component("font-awesome-icon",To.GN),ho.directive("focus",{mounted(e){e.focus()}}),ho.use(co),ho.mount("#app")},973:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(252),o=s(577);const i=["title"];function n(e,t,s,n,l,r){return(0,a.wg)(),(0,a.iD)("span",{class:"text-muted",title:r.readableDate()},(0,o.zw)(r.elapsedTime()),9,i)}var l=s(484),r=s.n(l),d=s(110),u=s.n(d),c=s(176),m=s.n(c);r().extend(u()),r().extend(m());var p={props:{timestamp:{required:!0,type:String}},methods:{elapsedTime(){return r()(this.timestamp).fromNow()},readableDate(){return r()(this.timestamp).format("llll")}}},g=s(744);const k=(0,g.Z)(p,[["render",n]]);var b=k},323:function(e,t,s){var a={"./AppDate.vue":973};function o(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id=323}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,i){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],i=e[u][2];for(var l=!0,r=0;r<a.length;r++)(!1&i||n>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[r])}))?a.splice(r--,1):(l=!1,i<n&&(n=i));if(l){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,n=a[0],l=a[1],r=a[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(r)var u=r(s)}for(t&&t(a);d<n.length;d++)i=n[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},a=self["webpackChunkgoali_vue"]=self["webpackChunkgoali_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(848)}));a=s.O(a)})();
//# sourceMappingURL=app.9bc6a536.js.map